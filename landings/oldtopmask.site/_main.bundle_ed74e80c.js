define("main",[],function(){!function(t){var e={NOT_RESOLVED:"NOT_RESOLVED",IN_RESOLVING:"IN_RESOLVING",RESOLVED:"RESOLVED"},n=function(){var u={trackCircularDependencies:!0,allowMultipleDeclarations:!0},l={},h=!1,f=[],m=function(t,n,i){i||(i=n,n=[]);var o=l[t];o||(o=l[t]={name:t,decl:void 0}),o.decl={name:t,prev:o.decl,fn:i,state:e.NOT_RESOLVED,deps:n,dependents:[],exports:void 0}},_=function(e,n,o){"string"==typeof e&&(e=[e]),h||(h=!0,d(b)),f.push({deps:e,cb:function(e,r){r?(o||i)(r):n.apply(t,e)}})},p=function(t){var n=l[t];return n?e[n.decl.state]:"NOT_DEFINED"},v=function(t){return!!l[t]},g=function(t){for(var e in t)t.hasOwnProperty(e)&&(u[e]=t[e])},y=function(){var t,e={};for(var n in l)l.hasOwnProperty(n)&&(t=l[n],(e[t.decl.state]||(e[t.decl.state]=[])).push(n));return e},b=function(){h=!1,E()},E=function(){var t,e=f,n=0;for(f=[];t=e[n++];)w(null,t.deps,[],t.cb)},w=function(t,e,n,i){var r=e.length;r||i([]);for(var s,a,c=[],d=function(t,e){if(e)return void i(null,e);if(!--r){for(var n,o=[],s=0;n=c[s++];)o.push(n.exports);i(o)}},u=0,h=r;u<h;){if("string"==typeof(s=e[u++])){if(!l[s])return void i(null,o(s,t));a=l[s].decl}else a=s;c.push(a),S(a,n,d)}},S=function(n,i,o){if(n.state===e.RESOLVED)return void o(n.exports);if(n.state===e.IN_RESOLVING)return void(u.trackCircularDependencies&&c(n,i)?o(null,r(n,i)):n.dependents.push(o));if(n.dependents.push(o),n.prev&&!u.allowMultipleDeclarations)return void C(n,a(n));u.trackCircularDependencies&&(i=i.slice()).push(n);var d=!1,l=n.prev?n.deps.concat([n.prev]):n.deps;n.state=e.IN_RESOLVING,w(n,l,i,function(e,i){if(i)return void C(n,i);e.unshift(function(t,e){if(d)return void o(null,s(n));d=!0,e?C(n,e):M(n,t)}),n.fn.apply({name:n.name,deps:n.deps,global:t},e)})},M=function(t,n){t.exports=n,t.state=e.RESOLVED;for(var i,o=0;i=t.dependents[o++];)i(n);t.dependents=void 0},C=function(t,n){t.state=e.NOT_RESOLVED;for(var i,o=0;i=t.dependents[o++];)i(null,n);t.dependents=[]};return{create:n,define:m,require:_,getState:p,isDefined:v,setOptions:g,getStat:y}},i=function(t){d(function(){throw t})},o=function(t,e){return Error(e?'Module "'+e.name+'": can\'t resolve dependence "'+t+'"':'Required module "'+t+"\" can't be resolved")},r=function(t,e){for(var n,i=[],o=0;n=e[o++];)i.push(n.name);return i.push(t.name),Error('Circular dependence has been detected: "'+i.join(" -> ")+'"')},s=function(t){return Error('Declaration of module "'+t.name+'" has already been provided')},a=function(t){return Error('Multiple declarations of module "'+t.name+'" have been detected')},c=function(t,e){for(var n,i=0;n=e[i++];)if(t===n)return!0;return!1},d=function(){var e=[],n=function(t){return 1===e.push(t)},i=function(){var t=e,n=0,i=e.length;for(e=[];n<i;)t[n++]()};if("object"==typeof process&&process.nextTick)return function(t){n(t)&&process.nextTick(i)};if(t.setImmediate)return function(e){n(e)&&t.setImmediate(i)};if(t.postMessage&&!t.opera){var o=!0;if(t.attachEvent){var r=function(){o=!1};t.attachEvent("onmessage",r),t.postMessage("__checkAsync","*"),t.detachEvent("onmessage",r)}if(o){var s="__modules"+ +new Date,a=function(t){t.data===s&&(t.stopPropagation&&t.stopPropagation(),i())};return t.addEventListener?t.addEventListener("message",a,!0):t.attachEvent("onmessage",a),function(e){n(e)&&t.postMessage(s,"*")}}}var c=t.document;if("onreadystatechange"in c.createElement("script")){var d=c.getElementsByTagName("head")[0],u=function(){var t=c.createElement("script");t.onreadystatechange=function(){t.parentNode.removeChild(t),t=t.onreadystatechange=null,i()},d.appendChild(t)};return function(t){n(t)&&u()}}return function(t){n(t)&&setTimeout(i,0)}}();"object"==typeof exports?module.exports=n():t.modules=n()}("undefined"!=typeof window?window:global),modules.define("",function(t){t()}),modules.decl=function(t,e,n){function i(t){for(var e=t.length,n=[];e--;)n[e]=t[e];return n}var o=e.indexOf("i-bem-dom")>=0;return modules.define(t,o?["i-bem-dom"]:[],function(t){var r=arguments[o?2:1];modules.require(e.map(function(t){return modules.isDefined(t)?t:""}),function(){return n.apply(this,[t].concat(i(arguments),r))}.bind(this))})},modules.define("ajax",[],function(t){function e(t){try{return JSON.parse(t)}catch(t){return null}}function n(t,n,i){if(200===t.status){var o=t.responseText,r=t.getResponseHeader("content-type");o&&0===r.indexOf("application/json")&&(o=e(o)),o?n(o):i({status:"error",message:"Ошибка при получении ответа"})}else 0===t.status?i({status:"networkError",message:"Ошибка при получении ответа"}):i()}var i=function(){};i.request=function(t){var e=new XMLHttpRequest;return new Promise(function(i,o){e.onreadystatechange=function(){e.readyState===XMLHttpRequest.DONE&&n(e,i,o)};var r=(t.requestType||"GET").toUpperCase();e.open(r,t.url,!0),e.setRequestHeader("Content-Type","application/json"),e.send(t.requestBody)})},t(i)}),modules.define("i-bem-dom",["i-bem","i-bem__internal","i-bem-dom__collection","i-bem-dom__events_type_dom","i-bem-dom__events_type_bem","inherit","identify","objects","functions","dom"],function(t,e,n,i,o,r,s,a,c,d,u){function l(t,e,n){var i,o,r,s,a=v(t);for(i in a)o=i.split(F),r=o[0],s=o[1],s&&((n[r]||(n[r]={}))[s]=!0),h(i,t,p(a[i],i,e))}function h(t,e,n,i,o){if(!A[a(e)]){n||(n=p(g(e,t),t));var r=n.uniqId,s=I[r];if(s)return M(s.domNodes,e)&&c.extend(s.params,n),s;k[r]?M(k[r],e):k[r]=[e];var d=m(t);return d._processInit(),!d.lazyInit||i||!1===n.lazyInit?(i&&e.classList.add(L),s=new d(k[r],n,!!i),delete k[r],o&&o.apply(s,Y.call(arguments,4)),s):void 0}}function f(t,e,n){var i=null;return u.each("string"==typeof t?u.fromString(t):t,function(t){e&&e.call(n,t);var o=C.init(t);i||(i=o)}),i}function m(t){if(P[t])return P[t];var e=t.split(F);return e[1]?C.declElem(e[0],e[1],{},{lazyInit:!0},!0):C.declBlock(t,{},{lazyInit:!0},!0)}function _(t,e,n){t instanceof Element||(t=t[0]);var i=h(e.getEntityName(),t,n,!0);return i?i._setInitedMod():null}function p(t,e,n){return t.uniqId||(t.uniqId=(t.id?e+"-id-"+t.id:a())+(n||a())),t}function v(t){var e=a(t);return x[e]||(x[e]=y(t))}function g(t,e){var n=v(t);return n[e]||(n[e]={})}function y(t){var e=t.getAttribute(O);return e?JSON.parse(e):{}}function b(t,e){var n=t.domNodes;1===n.length?(t.delMod("js"),delete I[t._uniqId]):n.splice(n.indexOf(e),1)}function E(t,e){var n={};u.each(t,function(t){var i=a(t);do{n[i]=!0;var o=x[i];o&&c.each(o,function(t){var n=I[t.uniqId];if(n){var i=e[n.__self._blockName];i&&n._dropElemCache(Object.keys(i))}})}while((i=a(t=t.parentElement))&&!n[i])})}function w(t){return"string"==typeof t?t={elem:t}:d.isFunction(t)?t={elem:t.getName()}:d.isFunction(t.elem)&&(t.elem=t.elem.getName()),{elem:t.elem,mod:V(t.modName,t.modVal)}}function S(t){if("string"==typeof t||"object"==typeof t&&"string"==typeof t.block)throw new Error("Block must be a class or description (block, modName, modVal) of the block to find")}function M(t,e){if(t.indexOf(e)<0)return t.push(e)}var C,k={},I={},T={},N=function(t){T[a(t)]=t.parentNode},x={},A={},P=e.entities,L="i-bem",R="."+L,O="data-bem",B=n.NAME_PATTERN,D=n.MOD_DELIM,F=n.ELEM_DELIM,V=n.buildModPostfix,j=n.buildClassName,Y=(Array.prototype.reverse,Array.prototype.slice),H=new o.EventManagerFactory(m,_),z=new r.EventManagerFactory(m,_),q=s({__constructor:function(t,e,n){this.domNodes=t,this._elemsCache={},this._elemCache={},this._findBackRefs=[],I[e.uniqId||a(this)]=this,this.__base(null,e,n)},_block:function(){},_elems:function(t){var e=w(t),n=this._elemsCache[e.elem];if(n&&e.mod in n)return n[e.mod];var i=(n||(this._elemsCache[e.elem]={}))[e.mod]=this.findMixedElems(t).concat(this.findChildElems(t));return i.forEach(function(t){t._findBackRefs.push(this)},this),i},_elem:function(t){var e=w(t),n=this._elemCache[e.elem];if(n&&e.mod in n)return n[e.mod];var i=(n||(this._elemCache[e.elem]={}))[e.mod]=this.findMixedElem(t)||this.findChildElem(t);return i&&i._findBackRefs.push(this),i},_dropElemCache:function(t){return arguments.length?((Array.isArray(t)?t:Y.call(arguments)).forEach(function(t){var e=w(t);e.mod?(this._elemsCache[e.elem]&&delete this._elemsCache[e.elem][e.mod],this._elemCache[e.elem]&&delete this._elemCache[e.elem][e.mod]):(delete this._elemsCache[e.elem],delete this._elemCache[e.elem])},this),this):(this._elemsCache={},this._elemCache={},this)},findChildBlock:function(t){return S(t),this._findChildEntities(t,!0)},findChildBlocks:function(t){return S(t),this._findChildEntities(t)},findParentBlock:function(t){return S(t),this._findParentEntities(t,!0)},findParentBlocks:function(t){return S(t),this._findParentEntities(t)},findMixedBlock:function(t){return S(t),this._findMixedEntities(t,!0)},findMixedBlocks:function(t){return S(t),this._findMixedEntities(t)},findChildElem:function(t,e){return e?this._filterFindElemResults(this._findChildEntities(t)).get(0):this._findChildEntities(t,!0)},findChildElems:function(t,e){var n=this._findChildEntities(t);return e?this._filterFindElemResults(n):n},findParentElem:function(t,e){return e?this._filterFindElemResults(this._findParentEntities(t))[0]:this._findParentEntities(t,!0)},findParentElems:function(t,e){var n=this._findParentEntities(t);return e?this._filterFindElemResults(n):n},findMixedElem:function(t){return this._findMixedEntities(t,!0)},findMixedElems:function(t){return this._findMixedEntities(t)},_filterFindElemResults:function(t){var e=this._block();return t.filter(function(t){return t._block()===e})},_findEntities:function(t,e,n){var o=this._buildEntityNameByEntity(t),r=this._buildClassNameByEntity(t,o),s="."+r,a=[],c=null,d=function(t){return c=h(o,t,void 0,!0)._setInitedMod(),a.push(c),!e};return this.domNodes.some(function(t){return!n(t,d,r,s)}),e?c:new i(a)},_findChildEntities:function(t,e){return this._findEntities(t,e,function(t,n,i,o){return u.each(e?t.querySelector(o):t.querySelectorAll(o),n)})},_findParentEntities:function(t,e){return this._findEntities(t,e,function(t,e,n){for(;t=t.parentNode;)if(t.classList&&t.classList.contains(n)&&!e(t))return!1})},_findMixedEntities:function(t,e){return this._findEntities(t,e,function(t,e,n){return!t.classList.contains(n)||e(t)})},_buildEntityNameByEntity:function(t){return d.isFunction(t)?t.getEntityName():"object"==typeof t?t.block?t.block.getEntityName():"string"==typeof t.elem?this.__self._blockName+F+t.elem:t.elem.getEntityName():this.__self._blockName+F+t},_buildClassNameByEntity:function(t,e){return"object"==typeof t?j(e,t.modName,void 0===t.modVal||t.modVal):e},_domEvents:function(t){return H.getEventManager(this,t,this.domNodes)},_events:function(t){return z.getEventManager(this,t,this.domNodes)},_emit:function(t,e){return("object"==typeof t&&"js"===t.modName||this.hasMod("js","inited"))&&r.emit(this,t,e),this},_extractModVal:function(t){var e;return this.domNodes[0]&&(e=this.domNodes[0].className.match(this.__self._buildModValRE(t))),e?e[2]||!0:""},_onSetMod:function(t,e,n){var i=this.__self,o=i.getName();if(this._findBackRefs.forEach(function(i){""===n||i._dropElemCache({elem:o,modName:t,modVal:n}),i._dropElemCache(""===e?o:{elem:o,modName:t,modVal:e})}),this.__base.apply(this,arguments),"js"!==t||""!==e){var r=i._buildModClassNamePrefix(t),s=i._buildModValRE(t),a=""===e,c=r;!0!==e&&(c+=D+e),this.domNodes.forEach(function(t){var e=t.className;(!0===n?s.test(e):(" "+e).indexOf(" "+r+D)>-1)?t.className=e.replace(s,a?"":"$1"+c):a||t.classList.add(c)})}},_afterSetMod:function(t,e,n){var i={modName:t,modVal:e,oldModVal:n};this._emit({modName:t,modVal:"*"},i)._emit({modName:t,modVal:e},i)},containsEntity:function(t){return u.contains(this.domNodes,t.domNodes)}},{create:function(){throw Error("bemDom entities can not be created otherwise than from DOM")},getFromDom:function(t,e){return _(t,this,e)},_processInit:function(t){if(this.onInit&&this._inited==t){this.__base(t),this.onInit();var e=this.getName(),n=this.onInit;this.init=function(){this.getName()===e&&n.apply(this,arguments)}}},_domEvents:function(t){return H.getEventManager(this,t,C.scope)},_events:function(t){return z.getEventManager(this,t,C.scope)},_buildModClassNamePrefix:function(t){return this.getEntityName()+D+t},_buildModValRE:function(t){return new RegExp("(\\s|^)"+this._buildModClassNamePrefix(t)+"(?:"+D+"("+B+"))?(?=\\s|$)")},_buildClassName:function(t,e){return j(this.getEntityName(),t,e)},_buildSelector:function(t,e){return"."+this._buildClassName(t,e)}}),U=s([e.Block,q],{_block:function(){return this}}),G=s([e.Elem,q],{_block:function(){return this._blockInstance||(this._blockInstance=this.findParentBlock(m(this.__self._blockName)))}});!function(t){"loading"===document.readyState?document.addEventListener("DOMContentLoaded",t):t()}(function(){C={scope:document.body,doc:document,win:window,Block:U,Elem:G,isEntity:function(t){return t instanceof U||t instanceof G},getEntity:_,declBlock:function(t,n,i,o){return n&&("object"!=typeof n||Array.isArray(n))||(o=i,i=n,n="string"==typeof t?P[t]||U:t),e.declBlock(t,n,i,o)},declElem:function(t,n,i,o,r){return i&&("object"!=typeof i||Array.isArray(i))||(r=o,o=i,i=P[t+F+n]||G),e.declElem(t,n,i,o,r)},declMixin:e.declMixin,init:function(t){t="string"==typeof t?u.fromString(t):t||C.scope;var n={},i=a(),o=function(t){l(t,i,n)};return u.each(t,function(t){t.classList.contains(L)&&o(t),u.each(t.querySelectorAll(R),o)}),e._runInitFns(),E(t,n),t},_destruct:function(t,e,n){var i,o=[];if(!(t instanceof Element)){if(t.length)return void u.each(t,function(t){this._destruct(t,e,n)},this);throw Error("destruct should be called on one DOM node or collection of them")}u.each(i=e?t.children:t,N);for(var r=i.length||1,s=i instanceof Element,d=i;s&&r--||(d=i[--r]);){var l,h=d.querySelectorAll(R),f=h.length;do{l=h[--f]||d;var m=v(l),_=a(l);A[_]=!0,o.push(_),c.each(m,function(t){if(t.uniqId){var e=I[t.uniqId];e?b(e,l):delete k[t.uniqId]}}),delete x[a(l)]}while(l!==d)}n&&(e?t.innerHTML="":t.parentNode&&t.parentNode.removeChild(t)),T={},o.forEach(function(t){delete A[t]})},destruct:function(t,e){this._destruct(t,e,!0)},detach:function(t,e){this._destruct(t,e)},update:function(t,e){return this.destruct(t,!0),"string"==typeof e?t.innerHTML=e:t.appendChild(e),this.init(t)},replace:function(t,e){var n=t.nextSibling,i=t.parentNode;return this.destruct(t),f(e,function(t){n?i.insertBefore(t,n):i.appendChild(t)})},append:function(t,e){return f(e,function(e){t.appendChild(e)})},prepend:function(t,e){return f(e,function(e){t.insertBefore(e,t.firstChild)})},before:function(t,e){return f(e,function(e){t.parentNode.insertBefore(e,t)})},after:function(t,e){var n=t.nextSibling,i=t.parentNode;return f(e,function(t){n?i.insertBefore(t,n):i.appendChild(t)})}},t(C)})}),function(){var t=modules.define,e=[];modules.define=function(n,i,o){t.apply(modules,arguments),"i-bem-dom__init"!==n&&arguments.length>2&&~i.indexOf("i-bem-dom")&&(e.push(n),1===e.length&&modules.define("i-bem-dom__init",e,function(t){t(arguments[arguments.length-1]),e=[]}))}}(),function(t){function e(t){var e=c(t);if(f)for(var n,i=0;n=p[i++];)t.hasOwnProperty(n)&&e.push(n);return e}function n(t,n,i){for(var o,s,a=e(i),c=0,d=a.length;c<d;)"__self"!==(o=a[c++])&&(s=i[o],h(s)&&(!s.prototype||!s.prototype.__self)&&s.toString().indexOf(".__base")>-1?n[o]=function(e,i){var o=t[e]?t[e]:"__constructor"===e?n.__self.__parent:r,s=function(){var t=this.__base;this.__base=s.__base;var e=i.apply(this,arguments);return this.__base=t,e};return s.__base=o,s}(o,s):n[o]=s)}function i(t,e){for(var n,i=1;n=t[i++];)e?h(n)?o.self(e,n.prototype,n):o.self(e,n):e=h(n)?o(t[0],n.prototype,n):o(t[0],n);return e||t[0]}function o(){var t=arguments,e=l(t[0]),o=e||h(t[0]),s=o?e?i(t[0]):t[0]:r,c=t[o?1:0]||{},u=t[o?2:1],f=c.__constructor||o&&s.prototype&&s.prototype.__constructor?function(){return this.__constructor.apply(this,arguments)}:o?function(){return s.apply(this,arguments)}:function(){};if(!o)return f.prototype=c,f.prototype.__self=f.prototype.constructor=f,d(f,u);d(f,s),f.__parent=s;var m=s.prototype,_=f.prototype=a(m);return _.__self=_.constructor=f,c&&n(m,_,c),u&&n(s,f,u),f}var r=function(){},s=Object.prototype.hasOwnProperty,a=Object.create||function(t){var e=function(){};return e.prototype=t,new e},c=Object.keys||function(t){var e=[];for(var n in t)s.call(t,n)&&e.push(n);return e},d=function(t,e){for(var n in e)s.call(e,n)&&(t[n]=e[n]);return t},u=Object.prototype.toString,l=Array.isArray||function(t){return"[object Array]"===u.call(t)},h=function(t){return"[object Function]"===u.call(t)},f=!0,m={toString:""};for(var _ in m)m.hasOwnProperty(_)&&(f=!1);var p=f?["toString","valueOf"]:null;o.self=function(){var t=arguments,e=l(t[0]),o=e?i(t[0],t[0][0]):t[0],r=t[1],s=t[2],a=o.prototype;return r&&n(a,a,r),s&&n(o,o,s),o};var v=!0;"object"==typeof exports&&(module.exports=o,v=!1),"object"==typeof modules&&"function"==typeof modules.define&&(modules.define("inherit",function(t){t(o)}),v=!1),"function"==typeof define&&(define(function(t,e,n){n.exports=o}),v=!1),v&&(t.inherit=o)}(this),modules.define("objects",function(t){var e=Object.prototype.hasOwnProperty;t({extend:function(t,n){("object"!=typeof t||null===t)&&(t={});for(var i=1,o=arguments.length;i<o;i++){var r=arguments[i];if(r)for(var s in r)e.call(r,s)&&(t[s]=r[s])}return t},isEmpty:function(t){for(var n in t)if(e.call(t,n))return!1;return!0},each:function(t,n,i){for(var o in t)e.call(t,o)&&(i?n.call(i,t[o],o):n(t[o],o))}})}),modules.define("functions",function(t){Object.prototype.toString;t({isFunction:function(t){return"function"==typeof t&&"number"!=typeof t.nodeType},noop:function(){}})}),modules.define("dom",function(t){var e={"datetime-local":!0,date:!0,month:!0,number:!0,password:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0},n=Array.prototype.indexOf;t({contains:function(t,e){for(var i=e instanceof Element,o=0,r=e;i&&!o++||(r=e[o++]);)do{if(t instanceof Element?t===r:~n.call(t,r))return!0}while(r=r.parentNode);return!1},getFocused:function(){try{return document.activeElement}catch(t){}},containsFocus:function(t){return this.contains(t,this.getFocused())},isFocusable:function(t){if(t.hasAttribute("tabindex"))return!0;switch(t.tagName.toLowerCase()){case"iframe":return!0;case"input":case"button":case"textarea":case"select":return!t.disabled;case"a":return!!t.href}return!1},isEditable:function(t){switch(t.tagName.toLowerCase()){case"input":return e.hasOwnProperty(t.type)&&!t.disabled&&!t.readOnly;case"textarea":return!t.disabled&&!t.readOnly;default:return"true"===t.contentEditable}},fromString:function(t){var e=document.createElement("div");e.innerHTML=t;var n=e.childNodes;return 1===n.length?n[0]:n},each:function(t,e,n){if(!t)return!0;for(var i=0,o=t instanceof Element,r=t;o&&!i++||(r=t[i++]);){if(!1===e.call(n,r,i,t))return!1}return!0}})}),modules.define("i-bem-dom__init",["i-bem-dom"],function(t,e){t(function(t){return e.init(t)})}),modules.define("i-bem",["i-bem__internal","inherit","identify","next-tick","objects","functions"],function(t,e,n,i,o,r,s){function a(t,e,n){return"__"+t+"__mod"+(e?"_"+e:"")+(n?"_"+n:"")}function c(t,e,n,i){return n||i?function(o,r,s){var a,c;if(n&&(a=!1===n.apply(this,arguments)),(!i||i(t,r,s))&&(c=!1===e.apply(this,arguments)),a||c)return!1}:e}function d(t,e,n){if(s.isFunction(e))n[a(t,"*","*")]=e;else{var i,o,r;for(i in e)if(r=e[i],s.isFunction(r))n[a(t,i,"*")]=r;else{var d=a(t,i,"*");for(o in r){var u=r[o],l=o[0];"!"===l||"~"===l||"*"===o?("*"===o||(o=o.substr(1)),n[d]=c(o,u,n[d],v[l])):n[a(t,i,o)]=u}}}}function u(t,e){return e?Array.isArray(e)?function(n){for(var i=0,o=e.length;i<o;)if(l(n,t,e[i++]))return!0;return!1}:function(n){return l(n,t,e)}:function(e){return l(e,t,!0)}}function l(t,e,n){var i=t._processingMods[e];return"*"===n?t.hasMod(e)||null!=i:t.hasMod(e,n)||i===n}function h(t){t.beforeSetMod&&(d("before",t.beforeSetMod,t),delete t.beforeSetMod),t.onSetMod&&(d("after",t.onSetMod,t),delete t.onSetMod)}function f(t,e,i,o,r){i||(i=p[e]||t),Array.isArray(i)||(i=[i]),i[0].__bemEntity||(i=i.slice(),i.unshift(p[e]||t)),o&&h(o);var s;return e===i[0].getEntityName()?(s=n.self(i,o,r))._processInit(!0):s=p[e]=n(i,o,r),s}var m=e.ELEM_DELIM,_=[],p={},v={"!":function(t,e,n){return e!==t},"~":function(t,e,n){return n===t}},g=n({__constructor:function(t,e,n){this._modCache=t||{},this._processingMods={},this.params=r.extend(this._getDefaultParams(),e),this._uniqId=this.params.uniqId||i(this),!1!==n?this._setInitedMod():_.push(this._setInitedMod,this)},_setInitedMod:function(){return this.setMod("js","inited")},hasMod:function(t,e){var n=typeof e;"undefined"===n||"boolean"===n||(e=e.toString());var i=this.getMod(t)===(e||"");return 1===arguments.length?!i:i},getMod:function(t){var e=this._modCache;return t in e?e[t]||"":e[t]=this._extractModVal(t)},setMod:function(t,e){var n=typeof e;if("undefined"===n?e=!0:"boolean"===n?!1===e&&(e=""):e=e.toString(),null!=this._processingMods[t])return this;var i=this.getMod(t);if(i===e)return this;this._processingMods[t]=i;for(var o,r,s,a=!0,c=[t,e,i],d=[["*","*"],[t,"*"],[t,e]],u=["before","after"],l=0;o=u[l++];){for(r=0;s=d[r++];)if(!1===this._callModFn(o,s[0],s[1],c)){a=!1;break}if(!a)break;"before"===o&&(this._modCache[t]=e,this._onSetMod(t,e,i))}return this._processingMods[t]=null,a&&this._afterSetMod(t,e,i),this},_onSetMod:function(t,e,n){},_afterSetMod:function(t,e,n){},toggleMod:function(t,e,n,i){void 0===e&&(e=!0),void 0===n?n="":"boolean"==typeof n&&(i=n,n="");var o=this.getMod(t);return(o===e||o===n)&&this.setMod(t,"boolean"==typeof i?i?e:n:this.hasMod(t,e)?n:e),this},delMod:function(t){return this.setMod(t,"")},_callModFn:function(t,e,n,i){var o=a(t,e,n);return this[o]?this[o].apply(this,i):void 0},_extractModVal:function(t){return""},_getDefaultParams:function(){return{}},_nextTick:function(t){var e=this;return o(function(){e.hasMod("js","inited")&&t.call(e)}),this}},{create:function(t,e){return new this(t,e)},declMod:function(t,e,i){e&&h(e);var o=u(t.modName,t.modVal),a=this.prototype;return r.each(e,function(t,n){s.isFunction(t)&&(e[n]=function(){var e;if(o(this))e=t;else{var i=a[n];i&&i!==t&&(e=this.__base)}return e?e.apply(this,arguments):void 0})}),n.self(this,e,i)},__bemEntity:!0,_name:null,_processInit:function(t){this._inited=!0},getName:function(){return this._name},getEntityName:function(){return this._name}}),y=g,b=n(g,{_block:function(){return this._blockInstance}},{create:function(t,e,n){var i=new this(e,n);return i._blockInstance=t,i},getEntityName:function(){return this._blockName+m+this._name}});t({Block:y,Elem:b,entities:p,declBlock:function(t,e,n,i){"object"!=typeof e||Array.isArray(e)||(i=n,n=e,e=void 0);var o=y;"string"!=typeof t&&(o=t,t=t.getEntityName());var r=f(o,t,e,n,i);return r._name=r._blockName=t,r},declElem:function(t,e,n,i,o){var r,s=b;"string"!=typeof t?(o=i,i=n,n=e,e=t._name,s=t,t=s._blockName,r=s.getEntityName()):r=t+m+e,"object"!=typeof n||Array.isArray(n)||(o=i,i=n,n=void 0);var a=f(s,r,n,i,o);return a._blockName=t,a._name=e,a},declMixin:function(t,e){return h(t||(t={})),n(t,e)},_runInitFns:function(){if(_.length){var t,e=_,n=0;for(_=[];t=e[n];)t.call(e[n+1]),n+=2}}})}),modules.define("i-bem__internal",function(t){function e(t){var e=typeof t;return"string"===e||"number"===e||"boolean"===e}function n(t,e){var n="";return null!=e&&!1!==e&&(n+=s+t,!0!==e&&(n+=s+e)),n}function i(t,e,i){return t+n(e,i)}function o(t,e,o,s){return i(t,r,r)+a+e+n(o,s)}var r,s="_",a="__";t({NAME_PATTERN:"[a-zA-Z0-9-]+",MOD_DELIM:s,ELEM_DELIM:a,buildModPostfix:n,buildClassName:function(t,n,s,a){return e(s)?e(a)||(a=s,s=n,n=r):void 0!==s?s=r:n&&"string"!=typeof n&&(n=r),n||s?n?o(t,n,s,a):i(t,s,a):t},buildClassNames:function(t,e,n){e&&"string"!=typeof e&&(n=e,e=r);var s=e?o(t,e,r,r):i(t,r,r);if(n)for(var a in n)n.hasOwnProperty(a)&&n[a]&&(s+=" "+(e?o(t,e,a,n[a]):i(t,a,n[a])));return s}})}),modules.define("identify",function(t){var e=0,n="__"+ +new Date,i=this.global,o=function(){return"uniq"+ ++e},r=function(t){if("object"==typeof t&&null!==t||"function"==typeof t){var e;return"uniqueID"in t?(t===i.document&&(t=t.documentElement),e="uniqueID"):e=n,e in t?t[e]:t[e]=o()}return""};t(function(t){if(arguments.length){if(1===arguments.length)return r(t);for(var e=[],n=0,i=arguments.length;n<i;n++)e.push(r(arguments[n]));return e.sort().join("")}return o()})}),modules.define("next-tick",function(t){var e=this.global,n=[],i=function(t){return n.push(t),1===n.length},o=function(){var t=n,e=0,i=n.length;for(n=[];e<i;)t[e++]()};if("object"==typeof process&&process.nextTick)return t(function(t){i(t)&&process.nextTick(o)});if(e.setImmediate)return t(function(t){i(t)&&e.setImmediate(o)});if(e.postMessage){var r=!0;if(e.attachEvent){var s=function(){r=!1};e.attachEvent("onmessage",s),e.postMessage("__checkAsync","*"),e.detachEvent("onmessage",s)}if(r){var a="__nextTick"+ +new Date,c=function(t){t.data===a&&(t.stopPropagation&&t.stopPropagation(),o())};return e.addEventListener?e.addEventListener("message",c,!0):e.attachEvent("onmessage",c),t(function(t){i(t)&&e.postMessage(a,"*")})}}var d=e.document;if("onreadystatechange"in d.createElement("script")){var u=d.getElementsByTagName("head")[0],l=function(){var t=d.createElement("script");t.onreadystatechange=function(){t.parentNode.removeChild(t),t=t.onreadystatechange=null,o()},u.appendChild(t)};return t(function(t){i(t)&&l()})}t(function(t){i(t)&&e.setTimeout(o,0)})}),modules.define("i-bem-dom__events",["i-bem__internal","i-bem-dom__collection","inherit","identify","objects","functions"],function(t,e,n,i,o,r,s){var a=window,c=document,d=(o(a),o(c),{}),u=i({__constructor:function(t,e,n){this._params=t,this._handlerWrapper=e,this._eventBuilder=n,this._storage={}},on:function(t,e,n,i,r){if("string"==typeof t&&t.indexOf(" ")>-1)return t.split(" ").forEach(function(t){this.on(t,e,n,i,r)},this),this;var a=this._params,c=this._eventBuilder(t,a,"on");s.isFunction(e)&&(r=i,i=n,n=e,e=void 0);var d=this._storage[c]||(this._storage[c]={}),u=o(n,i);if(!d[u]){var l=a.bindDomNodes,h=(a.bindClassName,this),f=d[u]=this._handlerWrapper(r?function(){h.un(t,n,i),n.apply(this,arguments)}:n,e,i,u);l.forEach(function(t){t.addEventListener(c,f,!1)})}return this},once:function(t,e,n,i){return s.isFunction(e)&&(i=n,n=e,e=void 0),this.on(t,e,n,i,!0)},un:function(t,e,n){var i=arguments.length;if(i){if("string"==typeof t&&t.indexOf(" ")>-1)return t.split(" ").forEach(function(t){this.un(t,e,n)},this),this;var s=this._params,a=this._eventBuilder(t,s,"un");if(1===i)this._unbindByEvent(this._storage[a],a);else{var c,d=o(e,n),u=this._storage[a],l=s.bindDomNodes;s.bindClassName;(c=u&&u[d])&&delete u[d];var h=c||e;l.forEach(function(t){t.removeEventListener(a,h)})}}else r.each(this._storage,this._unbindByEvent,this);return this},_unbindByEvent:function(t,e){var n=this._params,i=n.bindDomNodes;n.bindClassName;t&&r.each(t,function(t){i.forEach(function(n){n.removeEventListener(e,t)})}),this._storage[e]=null}}),l=function(t){return function(){var e=arguments;return this._eventManagers.forEach(function(n){n[t].apply(n,e)}),this}},h=i({__constructor:function(t){this._eventManagers=t},on:l("on"),once:l("once"),un:l("un")});t({EventManagerFactory:i({__constructor:function(t,e){this._storageSuffix=o(),this._getEntityCls=t,this._getEntity=e,this._eventManagerCls=u},getEventManager:function(t,e,i){if(e instanceof n)return new h(e.map(function(e){return this.getEventManager(t,e,i)},this));var r,s=o(t),a=d[s],c=this._storageSuffix,u="function"!=typeof t,l="";u?r=t.__self:(r=t,l=t._buildClassName());var f=this._buildEventManagerParams(e,i,l,r),m=f.key+c;return a||(a=d[s]={},u&&t._events().on({modName:"js",modVal:""},function(){f.bindToArbitraryDomNode&&a[m]&&a[m].un(),delete a[s]})),a[m]||(a[m]=this._createEventManager(t,f,u))},_buildEventManagerParams:function(t,n,i,r){var s={bindEntityCls:null,bindDomNodes:n instanceof Element?[n]:n,bindToArbitraryDomNode:!1,bindClassName:i,ctxClassName:i,key:""};if(t){var d=typeof t;if(t===a||t===c||t instanceof Element)s.bindDomNodes=t===c?[c.documentElement]:[t],s.key=o(t),s.bindToArbitraryDomNode=!0;else if(t.length&&"string"!==d)s.bindDomNodes=t,s.key=o.apply(null,t),s.bindToArbitraryDomElem=!0;else if("object"===d&&t.__self)s.bindDomNodes=t.domNodes,s.key=t._uniqId,s.bindEntityCls=t.__self;else if("string"===d||"object"===d||"function"===d){var u,l,h,f;"string"===d?(u=r._blockName,l=t):"object"===d?(u=t.block?t.block.getName():r._blockName,l="function"==typeof t.elem?t.elem.getName():t.elem,h=t.modName,f=t.modVal):t.getName()===t.getEntityName()?u=t.getName():(u=r._blockName,l=t.getName());var m=e.buildClassName(u,l);s.bindEntityCls=this._getEntityCls(m),s.bindClassName=s.key=m+e.buildModPostfix(h,f)}}else s.bindEntityCls=r;return s},_getEventActors:function(t,e,n,i){var o,r,s=this._getEntity,a=t.target;if(i){if(o=e,n.bindClassName){do{if(a.classList.contains(n.bindClassName)){r=a;break}if(a===t.currentTarget)break}while(a=a.parentElement);r||(o=void 0)}}else do{if(!r){if(!a.classList.contains(n.bindClassName))continue;r=a}if(a.classList.contains(n.ctxClassName)){o=s(a,e);break}}while(a=a.parentElement);return{instance:o,targetDomNode:r}},_createEventManager:function(t,e,n){throw new Error("not implemented")}})})}),modules.define("i-bem-dom__collection",["inherit","i-bem__collection"],function(t,e,n){function i(t,e,n){return t.map(function(t){return t[e].apply(t,n)})}function o(t){return function(){return new s(i(this,t,arguments))}}function r(t){return function(){var e=[];return i(this,t,arguments).forEach(function(t){t.forEach(function(t){e.push(t)})}),new s(e)}}var s=e(n,{findChildBlock:o("findChildBlock"),findChildBlocks:r("findChildBlocks"),findParentBlock:o("findParentBlock"),findParentBlocks:r("findParentBlocks"),findMixedBlock:o("findMixedBlock"),findMixedBlocks:r("findMixedBlocks"),findChildElem:o("findChildElem"),findChildElems:r("findChildElems"),findParentElem:o("findParentElem"),findParentElems:r("findParentElems"),findMixedElem:o("findMixedElem"),findMixedElems:r("findMixedElems")});t(s)}),modules.define("i-bem__collection",["inherit"],function(t,e){function n(t){return function(){var e=arguments;return this._entities.forEach(function(n){n[t].apply(n,e)}),this}}function i(t){return function(){var e=this._entities;return e[t].apply(e,arguments)}}function o(t,e){return function(){var n=arguments;return this._entities[t](function(t){return t[e].apply(t,n)})}}var r=e({__constructor:function(t){var e=this._entities=[],n={};(Array.isArray(t)?t:a.call(arguments)).forEach(function(t){n[t._uniqId]||(n[t._uniqId]=!0,e.push(t))})},setMod:n("setMod"),delMod:n("delMod"),toggleMod:n("toggleMod"),everyHasMod:o("every","hasMod"),someHasMod:o("some","hasMod"),get:function(t){return this._entities[t]},forEach:i("forEach"),map:i("map"),reduce:i("reduce"),reduceRight:i("reduceRight"),filter:function(){return new this.__self(i("filter").apply(this,arguments))},some:i("some"),every:i("every"),has:function(t){return this._entities.indexOf(t)>-1},find:function(t,e){e||(e=this);for(var n,i=this._entities,o=0;n=i[o];)if(t.call(e,i[o],o++,this))return n;return null},concat:function(){for(var t,e=0,n=arguments.length,i=[];e<n;)t=arguments[e++],i.push(t instanceof r?t._entities:t);return new this.__self(s.apply(this._entities,i))},size:function(){return this._entities.length},toArray:function(){return this._entities.slice()}}),s=Array.prototype.concat,a=Array.prototype.slice;t(r)}),modules.define("i-bem-dom__events_type_bem",["i-bem-dom__events","i-bem__internal","inherit","functions","dom","identify","events"],function(t,e,n,i,o,r,s,a){var c={},d=function(t,e){var n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!0,!0,e),n},u=function(t,e,i){var o="__bem__"+e.bindEntityCls.getEntityName()+("object"==typeof t?t instanceof a.Event?":"+t.type:n.buildModPostfix(t.modName,t.modVal):":"+t);return"on"===i&&!c[o]&&(c[o]=!0),o},l=i(e.EventManagerFactory,{_createEventManager:function(t,e,n){function i(i,s,a,c){return function(d){var u=d.detail,l=u.fns,h=u.originalEvent;if(!l[c]){var f=o(d,t,e,n).instance;f&&(u.propagationStoppedDomNodes&&r.contains(f.domNodes,u.propagationStoppedDomNodes)||(h.data=s,h.bemTarget=h.target,l[c]=!0,i.call(a||f,h,u.data),h.isPropagationStopped()&&(d.stopPropagation(),
u.propagationStoppedDomNodes=f.domNodes)))}}}var o=(this._getEntity,this._getEventActors.bind(this));return new this._eventManagerCls(e,i,u)}});t({emit:function(t,e,n){var i;"string"==typeof e?i=new a.Event(e,t):e.modName?i=new a.Event("modchange",t):e.target||(e.target=t,i=e);var o=u(e,{bindEntityCls:t.__self},"emit");if(c[o]){var r={};t.domNodes.forEach(function(t){t.dispatchEvent(d(o,{data:n,fns:r,propagationStoppedDomNodes:null,originalEvent:i}))})}},EventManagerFactory:l})}),modules.define("events",["identify","inherit","functions"],function(t,e,n,i){var o="__"+ +new Date+"storage",r=n({__constructor:function(t,e){this.type=t,this.target=e,this.data=void 0,this._isDefaultPrevented=!1,this._isPropagationStopped=!1},preventDefault:function(){this._isDefaultPrevented=!0},isDefaultPrevented:function(){return this._isDefaultPrevented},stopPropagation:function(){this._isPropagationStopped=!0},isPropagationStopped:function(){return this._isPropagationStopped}});t({Emitter:n({on:function(t,n,r,s,a){if("string"==typeof t){i.isFunction(n)&&(s=r,r=n,n=void 0);for(var c,d,u,l,h=e(r,s),f=this[o]||(this[o]={}),m=t.split(" "),_=0;c=m[_++];)l=f[c]||(f[c]={ids:{},list:{}}),h in l.ids||(d=l.list,u={fn:r,data:n,ctx:s,special:a},d.last?(d.last.next=u,u.prev=d.last):d.first=u,l.ids[h]=d.last=u)}else for(var p in t)t.hasOwnProperty(p)&&this.on(p,t[p],n,a);return this},once:function(t,e,n,i){return this.on(t,e,n,i,{once:!0})},un:function(t,n,i){if("string"==typeof t||void 0===t){var r=this[o];if(r)if(t){for(var s,a=t.split(" "),c=0;t=a[c++];)if(s=r[t])if(n){var d=e(n,i),u=s.ids;if(d in u){var l=s.list,h=u[d],f=h.prev,m=h.next;f?f.next=m:h===l.first&&(l.first=m),m?m.prev=f:h===l.last&&(l.last=f),delete u[d]}}else delete this[o][t]}else delete this[o]}else for(var _ in t)t.hasOwnProperty(_)&&this.un(_,t[_],n);return this},emit:function(t,e){var n=this[o],i=!1;if(n)for(var s,a,c=["string"==typeof t?t:t.type,"*"],d=0;s=c[d++];)if(a=n[s])for(var u,l=a.list.first,h=a.list.last;l&&(i||(i=!0,"string"==typeof t&&(t=new r(t)),t.target||(t.target=this)),t.data=l.data,u=l.fn.apply(l.ctx||this,arguments),!1===u&&(t.preventDefault(),t.stopPropagation()),l.special&&l.special.once&&this.un(t.type,l.fn,l.ctx),l!==h);)l=l.next;return this}}),Event:r})}),modules.define("smooth-scroll",["inherit"],function(t,e){t(e({},{scrollTo:function(t,e){function n(t){r=t-o,a.scrollTo(0,l(r,c,h,d)),r<d?requestAnimationFrame(n):i()}function i(){a.scrollTo(0,c+h),"function"==typeof e.callback&&e.callback()}var o,r,s=this._getContainer(t),a=s.node,c=s.start,d=e.duration||100,u=e.infelicity||0,l=this._timing,h=t.getBoundingClientRect().top-u;requestAnimationFrame(function(t){o=t,n(t)})},_getContainer:function(t){for(var e=window,n=e.pageYOffset,i=document.querySelectorAll(".modal"),o=0;o<i.length;o++)if(i[o].contains(t)){e=i[o],n=e.scrollTop;break}return{node:e,start:n}},_timing:function(t,e,n,i){return t/=i/2,t>1?(t--,-n/2*(t*(t-2)-1)+e):n/2*t*t+e}}))}),modules.define("control-base",["i-bem-dom","state"],function(t,e,n){t(e.declBlock("control-base",{onSetMod:{js:{inited:function(){this.pageState=this.findParentBlock(n),this._initEvents()}},disabled:function(t,e){e?this._getControl().setAttribute("disabled","disabled"):this._getControl().removeAttribute("disabled")}},_initEvents:function(){},_getControl:function(){return this._elem("control").domNodes[0]}}))}),modules.define("control-validation-mixin",["i-bem-dom"],function(t,e){function n(t,e){return arguments.length>1&&(this.__cache={},this.__cache[t]=e),this.__cache&&this.__cache[t]}t(e.declMixin({isValid:function(){return!0===this.validate().valid},validate:function(){function t(t,n){var i=t[n];return"function"==typeof i?i(e,t.value):i}var e=this.getValue(),i=n.call(this,e);if(i)return{valid:i.valid,invalidRules:i.invalidRules.slice()};var o=[];return(this.params.validation||[]).forEach(function(e){Object.keys(e||{}).forEach(function(n){var i=this.__self.getValidationRule(n),r=e[n];!1!==r&&("object"!=typeof r&&(r={value:r}),Object.keys(i).forEach(function(t){r[t]||(r[t]=i[t])}),t(r,"validate")||o.push({rule:n,text:t(r,"text")||""}))},this)},this),n.call(this,e,{valid:0===o.length,invalidRules:o})}},{getValidationRule:function(t){return{required:{value:!0,validate:function(t,e){return!e||!(void 0===t||/^\s*$/.test(t))}},phone:{text:"Номер телефона указан неверно",validate:function(t){return!t||/^\+?[-0-9]*(?:\([-0-9]+\))?[-0-9]+$/.test(t)}},email:{text:"Email указан неверно",validate:function(t){return!t||/^(([^<>()\[\].,;:\s@"]+(\.[^<>()\[\].,;:\s@"]+)*)|(".+"))@(([^<>()[\].,;:\s@"]+\.)+[^<>()[\].,;:\s@"]{2,})$/i.test(t)}},"max-length":{value:1/0,text:function(t,e){return"Максимальное количество символов в тексте "+e},validate:function(t,e){return Boolean(!t||t.length<=e)}},"min-length":{value:0,text:function(t,e){return"Миниимальное количество символов в тексте "+e},validate:function(t,e){return Boolean(t&&t.length>=e)}},"max-value":{value:1/0,text:function(t,e){return"Значение должно быть не более "+e},validate:function(t,e){return Number(t)<=e}},"min-value":{value:-1/0,text:function(t,e){return"Значение должно быть не менее "+e},validate:function(t,e){return Number(t)>=e}}}[t]}}))}),modules.define("functions__throttle",function(t){var e=this.global;t(function(t,n,i,o){var r=typeof i;"undefined"===r?i=!0:3===arguments.length&&"boolean"!==r&&(o=i,i=!0);var s,a,c,d=function(){c?(t.apply(o,a),c=!1,s=e.setTimeout(d,n)):s=null};return function(){a=arguments,o||(o=this),c=!0,s||(i?d():s=e.setTimeout(d,n))}})}),modules.decl("lazy-block",["i-bem-dom","viewport-watcher","page"],function(t,e,n){t(e.declBlock("lazy-block",n,{onSetMod:{js:{inited:function(){!1!==this.params.addToWatch&&n.addToWatchList(this)}}},_getDefaultParams:function(){return{type:"def"}},releaseQueue:function(){var t=this.__self._loadingQueue,e=t.indexOf(this);this.setMod("loaded"),clearTimeout(this.__resetTimeout),-1!==e&&t.splice(e,1),this.__self.tick()}},{lazyInit:!1,_loadingQueue:[],_initQueue:[],_queueParams:{advert:2,image:6,embed:2,def:1},_pushToInitQueue:function(t){-1===this._initQueue.indexOf(t)&&this._initQueue.push(t),this.tick()},_removeFromInitQueue:function(t){var e=this._initQueue,n=e.indexOf(t);-1!==n&&e.splice(n,1)},startLoading:function(t){t.getMod("loaded")||(this._loadingQueue.push(t),t.__resetTimeout=setTimeout(function(){t.releaseQueue()},5e3),t._emit("should-init"))},_canStartLoading:function(t){var e=t.params.type;return this._loadingQueue.reduce(function(t,n){return n.params.type===e?t+1:t},0)<(this._queueParams[e]||this._queueParams.def)},tick:function(){var t=[];this._initQueue.forEach(function(e){this._canStartLoading(e)&&t.push(e)}.bind(this)),t.forEach(function(t){n.removeFromWatchList(t),this._removeFromInitQueue(t),this.startLoading(t)}.bind(this))},onInit:function(){this._events().on("enter-view",function(){this.__self._pushToInitQueue(this)}),this._events().on("leave-view",function(){this.__self._removeFromInitQueue(this)})}}))}),modules.decl("viewport-watcher",["i-bem-dom"],function(t,e){function n(t,e,n,i){var o=i?i.x*n:0,r=i?i.y*e:0;return!(t.bottom+r<0)&&(!(t.top-r>e)&&(!(t.right+o<0)&&!(t.left-o>n)))}t(e.declBlock("viewport-watcher",{onSetMod:{js:{inited:function(){this.__self.addToWatchList(this),void 0===this.__self.START_TOP_POSITION&&(this.__self.START_TOP_POSITION=Math.abs(this.domNodes[0].getBoundingClientRect().top))}}},enterView:function(){this.__visible=!0,setTimeout(this._emit.bind(this,"enter-view"))},leaveView:function(t){this.__visible=!1,setTimeout(this._emit.bind(this,"leave-view",t))}},{lazyInit:!1,_blocksToWatch:[],_vpSize:{width:void 0,height:void 0},_isWatching:!1,addToWatchList:function(t){var e=t.params.offset;t.__offset={x:!e||isNaN(e.horizontal)?1:e.horizontal,y:!e||isNaN(e.vertical)?1:e.vertical},t.__visible=!1,this._blocksToWatch.push(t);var n=this;window.Ya.oncePageVisible(function(){n._startWatching()})},removeFromWatchList:function(t){var e=this._blocksToWatch.indexOf(t);-1!==e&&this._blocksToWatch.splice(e,1)},isInViewport:function(t){if(!t)return!1;var e=t.domNodes[0].getBoundingClientRect();return(0!==e.width||0!==e.height)&&n(e,this._vpSize.height,this._vpSize.width,t.__offset)},_startWatching:function(){this._isWatching||(this._isWatching=!0,document.addEventListener("visibilitychange",this._onPageVisibilityChange),window.addEventListener("resize",this._updateViewportSize),this._updateViewportSize(),requestAnimationFrame(this._watcher))},_stopWatching:function(){this._isWatching&&(this._isWatching=!1,document.removeEventListener("visibilitychange",this._onPageVisibilityChange),window.removeEventListener("resize",this._updateViewportSize))},_onPageVisibilityChange:function(t){void 0===t&&(t=document.hidden),t&&this._blocksToWatch.forEach(function(t){t.__visible&&t.leaveView({blur:!0})})},_updateViewportSize:function(){this._vpSize.height=window.innerHeight,this._vpSize.width=window.innerWidth},_watcher:function(){if(this._isWatching){var t,e;this._vpSize.width&&this._vpSize.height||this._updateViewportSize();for(var i=0;i<this._blocksToWatch.length;i++)t=this._blocksToWatch[i],t.hasMod("js","inited")&&(e=t.domNodes[0].getBoundingClientRect(),0===e.width&&0===e.height||(n(e,this._vpSize.height,this._vpSize.width,t.__offset)?!0!==t.__visible&&t.enterView():!1!==t.__visible&&t.leaveView()));requestAnimationFrame(this._watcher)}},onInit:function(){this._watcher=this._watcher.bind(this),this._updateViewportSize=this._updateViewportSize.bind(this),this._onPageVisibilityChange=this._onPageVisibilityChange.bind(this);var t=this;window.Ya.onPageVisibilityChange(function(){window.Ya.isVisible()?t._startWatching():(t._stopWatching(),t._onPageVisibilityChange(!0))})},isEntersTheViewport:function(t,e){return e=e||{x:0,y:0},n(t,this._vpSize.height,this._vpSize.width,e)}}))}),modules.define("cover",["i-bem-dom"],function(t,e){t(e.declBlock("cover"))}),modules.decl("page__result",["i-bem-dom","viewport-watcher","page","pubsub"],function(t,e,n,i,o){t(e.declElem("page","result",{onSetMod:{js:{inited:function(){var t=document.documentElement,e=this.domNodes[0];this._isInfinityFeed=i.GLOBAL.isInfinityFeed,this._events(this.findMixedBlock(n)).on("enter-view",function(n){var i=t.classList.contains("no-scroll");n.target.domNodes[0].isEqualNode(e)&&!i&&this._onEnterView()}).on("leave-view",function(n,i){var o=t.classList.contains("no-scroll");n.target.domNodes[0].isEqualNode(e)&&!o&&this._onLeaveView(i)}),this._block().storeResult(this)}}},_onScroll:function(t,e){this._sendArticleScrollCounter(e.scrollPosition)},_sendArticleScrollCounter:function(t){if(this.isActive()){var e=t-this._startScrollPositon;if(!(e>this._height)){var n=Math.round(e/this._height*100);o.trigger("article-scrolled",{pixel:e,percent:n}),this._maxScrollPosition>=t||(this._maxScrollPosition=t,window.w&&window.w({link:this,event:"tech",type:"page-article-scroll",data:{"y-pixel":e,"y-percent":n}}))}}},_onEnterView:function(){if(this._block().pushActiveDocumentId(this.params.id,{event:"enter-view"}),this._sendActiveDocumentChanged({type:"visible"}),this._height=this.domNodes[0].getBoundingClientRect().height,!this._maxScrollPosition){var t=Math.abs(this._block().getScrollPosition());this._startScrollPositon=this._maxScrollPosition=t}this._events(this._block()).on("scroll",this._onScroll,this)},_onLeaveView:function(t){this._block().popActiveDocumentId(this.params.id,{event:"leave-view",eventData:t}),this._sendActiveDocumentChanged({type:"hidden"}),this._isInfinityFeed&&this._events(this._block()).un("scroll",this._onScroll)},_sendActiveDocumentChanged:function(t){o.trigger("active-document-changed",{event:"active-document-changed",visibility:t.type,node:this.domNodes[0],docId:this.params.id,pageHash:this.params.pageHash},{saveData:!0})},isActive:function(){var t=this._block().getCurrentPageResult();return t&&t.params.id===this.params.id},getHeight:function(){return this._height}},{firstResultPassed:!1,hasPostMessage:!1}))}),modules.define("page__ending",["i-bem-dom","viewport-watcher"],function(t,e,n){t(e.declElem("page","ending",{onSetMod:{js:{inited:function(){this._events(this.findMixedBlock(n)).on("enter-view",this._onEnterView,this)}}},_onEnterView:function(){var t=this.findParentElem("result");window.w&&window.w({link:t,event:"tech",type:"page-show",data:{height:t?t.getHeight():0}}),e.destruct(this.domNodes)}}))}),modules.decl("counters",["i-bem-dom","tracking","metrika","ganalytics","page","viewport-watcher"],function(t,e,n,i,o,r,s){function a(t){return[n,t&&i,o].filter(Boolean)}function c(t){var e=t.split("/")[1]||"";return"sport"===e||-1!==e.indexOf("news")}function d(){if(this.params.utmReferrer)return this.params.utmReferrer;var t=this.findParentBlock(r);if(t&&t.params.utmReferrer)return t.params.utmReferrer;var e,n=(document.referrer||location.href).split("/"),i=n[0],o=n[2];try{e=new URL(document.referrer)}catch(t){}o&&-1===o.indexOf("si.yandex.ru")||(o="yandex.ru");var s=t&&t.params.global&&t.params.global.isSearchApp;if(e&&c(e.pathname))return i+"//"+o+e.pathname;if(0===o.indexOf("yandex.")&&s){o="yandex."+o.replace("yandex.","")+"/searchapp?text="}return i+"//"+o}function u(t){var e=t||this,n=e.getReferrer||d;return"function"==typeof n?n.call(e):void 0}t(e.declBlock("counters",{onSetMod:{js:{inited:function(){this.__self.firstResultPassed||this.params.isExtras?!this.__self.firstExtrasPassed&&this.params.isExtras?(this.__self.firstExtrasPassed=!0,this.findAndInit(!1)):this._events(s).once("enter-view",function(){this.findAndInit(!this.params.isExtras)}):(this.__self.firstResultPassed=!0,this.findAndInit(!0))}}},findAndInit:function(t){this.params.metrikaInitOnVisible||this._initCounters([i],t);var e=this;window.Ya.oncePageVisible(function(){e.onPageVisible(t)})},onPageVisible:function(t){if(this._initCounters(a(this.params.metrikaInitOnVisible),t),t){var e=this.findMixedBlock(i);e&&e.invokeHitCounters()}if(t&&window.w){var n=r.getInstance().findChildElems("result");window.w({event:"tech",type:"show",link:n._entities.pop()})}},_initCounters:function(t,e){t.map(this.findMixedBlock.bind(this)).forEach(function(t){t&&!t.getMod("inited")&&t.init(this.params.originalUrl,u(this),!1!==e,"metrika"===t.__self.getEntityName())},this)}},{hasPostMessage:!1,firstResultPassed:!1,firstExtrasPassed:!1}))}),function(t){function e(){R=t.getVarsList().concat("1042="+encodeURIComponent(navigator.userAgent))}function n(){O=R.concat(["143.2129="+ut,"143.2112="+ft,"143.2119="+ht])}function i(){removeEventListener("DOMContentLoaded",i),removeEventListener("load",i),ut&&setTimeout(function(){t.sendTimeMark=a,t.sendResTiming=l,t.timeEnd=d;for(var e=t._defRes;e.length;){var n=e.shift();l(n[0],n[1])}for(var i=t._defTimes;i.length;){var c=i.shift();a(c[0],c[1],!1,c[2])}Object.keys(st).forEach(function(t){u(t)}),r(),s(),Et(),t.getSetting("sendStaticLocation")&&M(),C(),dt&&("complete"===document.readyState?o():addEventListener("load",o))},0)}function o(){removeEventListener("load",o),h(),f(),_(),y(),b(),w()}function r(){var e=et.domContentLoadedEventStart,n=et.domContentLoadedEventEnd;if(0===e&&0===n)return void setTimeout(r,50);var i=k(),o=R.concat(["2129="+ut,"1036="+(et.domainLookupStart-ut),"1037="+(et.domainLookupEnd-et.domainLookupStart),"1038="+(et.connectEnd-et.connectStart),et.secureConnectionStart&&"1383="+(et.connectEnd-et.secureConnectionStart),"1039="+(et.responseStart-et.connectEnd),"1040="+(et.responseEnd-et.responseStart),"1040.906="+(et.responseEnd-et.domainLookupStart),"1310.2084="+(et.domLoading-et.responseStart),"1310.2085="+(et.domInteractive-et.responseStart),"1310.1309="+(n-e),"1310.1007="+(e-et.responseStart),"2299="+history.length,navigator.deviceMemory&&"3140="+navigator.deviceMemory,navigator.hardwareConcurrency&&"3141="+navigator.hardwareConcurrency]);t.mark("1039 ttfb",et.responseStart-et.connectEnd),t.mark("1310.1007 dom.loaded",et.domContentLoadedEventStart-et.responseStart),i&&(o.push("2130="+(i-ut),"1041="+(i-et.responseStart),"1041.906="+(i-et.domainLookupStart)),t.mark("1041.906 ttfp",i-et.domainLookupStart)),Object.keys(W).forEach(function(t){t in et&&et[t]&&o.push(W[t]+"="+P(et[t],ut))}),t.vsStart?(o.push("1484="+(Q[t.vsStart]||2771)),t.vsChanged&&o.push("1484.719=1")):o.push("1484="+Q.visible),nt&&(nt.redirectCount&&o.push("1384.1385="+nt.redirectCount),1!==nt.type&&2!==nt.type||o.push("770.76="+nt.type)),I(o),L(B,o,["dtype=stred","pid=1","cid=72202"])}function s(){if(dt&&(t.getSetting("forceFirstPaintTimeSending")||!t.isVisibilityChanged())){for(var e=tt.getEntriesByType("paint"),n=0;n<e.length;n++){var i=e[n],o=$[i.name];o&&!mt[i.name]&&(mt[i.name]=!0,_t++,a("1926."+o,i.startTime))}if(_t<J)try{new Z(function(t,e){s(),e&&e.disconnect()}).observe({entryTypes:["paint"]})}catch(t){}}}function a(e,n,i,o){void 0===n&&(n=K()),void 0!==i&&!0!==i||t.mark(e,n);var r=x(e);if(r.push("207="+P(n)),c(r,o)){L(D,r),ot[e]=ot[e]||[],ot[e].push(n);var s=t._markListeners[e];s&&s.length&&s.forEach(function(t){t(n)})}}function c(t,e){if(e){if(e.isCanceled&&e.isCanceled())return!1;Object.keys(e).forEach(function(n){"function"!=typeof e[n]&&t.push(n+"="+e[n])})}return!0}function d(t,e){var n=st[t];n&&0!==n.length&&(n.push(K(),e),u(t))}function u(e,n,i){var o,r,s,a=st[e];if(void 0!==n?(r=t.getTime(),o=r-n):a&&(o=a[0],r=a[1],s=a[2]),void 0!==o&&void 0!==r){var d=x(e);d.push("207.2154="+P(o),"207.1428="+P(r),"2877="+P(r-o)),c(d,i)&&c(d,s)&&(L(F,d),delete st[e])}}function l(t,e){T(e,function(n){if(n){var i=x(t);i.push("13="+encodeURIComponent(e)),A(i,n[0]),L(V,i)}})}function h(){if(dt){var t=tt.getEntriesByType("resource").reduce(function(t,e){var n,i=e.name.match(/^https?:\/\/([^\/?#]+)(?:[\/?#]|$)/i);return i&&(n=i[1],n in t||(t[n]={count:0,size:0}),t[n].count++,e.transferSize&&(t[n].size+=e.transferSize)),t},{}),e="2748=";Object.keys(t).forEach(function(n){e+=n+"!"+t[n].count+"!"+(t[n].size||"")+";"}),L(j,R.concat(e))}}function f(){var e=t.getSetting("periodicStatsIntervalMs");e||null===e||(e=15e3),e&&(pt=setInterval(m,e)),addEventListener("beforeunload",m)}function m(){var e=!1;t._periodicTasks.forEach(function(t){t()&&(e=!0)}),e||clearInterval(pt)}function _(){if(Z){p(tt.getEntriesByType("navigation"));p(tt.getEntriesByType("resource"));try{new Z(function(t){p(t.getEntries())}).observe({entryTypes:["resource","navigation"]})}catch(t){}t._periodicTasks.push(g)}}function p(t){if(t&&t.length)for(var e=rt,n=0;n<t.length;n++){var i=v(t[n]);if(i){var o=i.domain+"-"+i.extension,r=e[o]=e[o]||{count:0,size:0};r.count++,r.size+=i.size}}}function v(t){var e=t.transferSize;if(null==e)return null;ct.href=t.name;var n=ct.pathname;if(0===n.indexOf("/clck"))return null;var i=n.lastIndexOf("."),o="";return-1!=i&&n.lastIndexOf("/")<i&&n.length-i<=5&&(o=n.slice(i+1)),{size:e,domain:ct.hostname,extension:o}}function g(){var t=Ya.Rum.getSetting("maxTrafficCounters")||250;if(gt>=t)return!1;for(var e=Object.keys(rt),n="",i=0;i<e.length;i++){var o=e[i],r=rt[o];n+=encodeURIComponent(o)+"!"+r.count+"!"+r.size+";"}if(n.length){gt++;var s=R.concat(["d="+n,"t="+P(Ya.Rum.getTime())]);L(H,s)}return rt={},!(gt>=t)}function y(){if(Z)try{new Z(function(t,e){var n=t.getEntries()[0];if(n){u("first-input",n.processingStart-n.startTime),e.disconnect()}}).observe({type:"first-input",buffered:!0})}catch(t){}}function b(){if(Z){var t=new Z(function(t){var e=t.getEntries();null==vt&&(vt=0);for(var n=0;n<e.length;n++){var i=e[n];i.hadRecentInput||(vt+=i.value)}});try{t.observe({type:"layout-shift",buffered:!0})}catch(t){}addEventListener("visibilitychange",function e(){if("hidden"===document.visibilityState){removeEventListener("visibilitychange",e);try{"function"==typeof t.takeRecords&&t.takeRecords(),t.disconnect()}catch(t){}E()}}),addEventListener("beforeunload",E)}}function E(){if(null!=vt){var t=Math.round(1e6*vt)/1e6;L(z,R.concat("s="+t)),vt=null}}function w(){if(Z){var t=new Z(function(t){for(var e=t.getEntries(),n=0;n<e.length;n++){var i=e[n];yt=i.renderTime||i.loadTime}bt||(a("largest-loading-elem-paint",yt),bt=!0)});try{t.observe({type:"largest-contentful-paint",buffered:!0})}catch(t){}addEventListener("visibilitychange",function e(){if("hidden"===document.visibilityState){removeEventListener("visibilitychange",e);try{"function"==typeof t.takeRecords&&t.takeRecords(),t.disconnect()}catch(t){}S()}}),addEventListener("beforeunload",S)}}function S(){null!=yt&&(a("largest-contentful-paint",yt),yt=null)}function M(){if(window.YaStaticRegion)return void L(Y,R.concat("1822="+encodeURIComponent(window.YaStaticRegion)));var e=document.createElement("script"),n=t.getSetting("crossOrigin");e.src="https://yastatic.net/nearest.js",e.async=!0,null!==n&&(e.crossOrigin=n),e.onload=function(){var t=window.YaStaticRegion;t&&L(Y,R.concat("1822="+t))},document.head.appendChild(e)}function C(e,n,i){if(t._tti){var o=K(),r=function(e,r,s){var c={2796.2797:N(s,n),689.2322:P(o)};i&&Object.keys(i).forEach(function(t){c[t]=i[t]}),a(e||"2795",r,!0,c),t._tti.events=[],t._tti.fired=!0},s=function(){var i,a=n||o,c=K(),d=t._tti.events||[],u=d.length;0!==u&&(i=d[u-1],a=Math.max(a,Math.floor(i.startTime+i.duration))),c-a>=U?r(e,a,d):c-a>=G?r(e,(n||o)+G,d):setTimeout(s,1e3)};s()}}function k(){if(t.getSetting("forceFirstPaintTimeSending")||!t.isVisibilityChanged()){if(window.chrome&&"function"==typeof window.chrome.loadTimes){var e=window.chrome.loadTimes();return e&&e.firstPaintTime?1e3*e.firstPaintTime:0}return et.msFirstPaint?et.msFirstPaint:void 0}}function I(t){it&&t.push("2437="+(X[it.type]||2771),it.downlinkMax&&"2439="+it.downlinkMax,it.effectiveType&&"2870="+it.effectiveType)}function T(t,e){function n(){var t=tt.getEntriesByName(i);if(t.length)return e(t);o++<q?(setTimeout(n,r),r+=r):e(null)}if(!dt)return e(null);at.href=t;var i=at.href,o=0,r=100;setTimeout(n,0)}function N(t,e){return t=t||[],e=e||0,t.filter(function(t){return t.startTime-e>=-50}).map(function(t){var e=t.name?t.name.split("-").map(function(t){return t[0]}).join(""):"u",n=Math.floor(t.startTime);return e+"-"+n+"-"+Math.floor(n+t.duration)}).join(".")}function x(e){return O.concat(["1701="+e,t.ajaxStart&&"1201.2154="+P(t.ajaxStart),t.ajaxComplete&&"1201.2052="+P(t.ajaxComplete)])}function A(t,e){Object.keys(W).forEach(function(n){if(n in e){var i=e[n];(i||0===i)&&t.push(W[n]+"="+P(i))}})}function P(t,e){return"string"==typeof t?encodeURIComponent(t):Math.round(1e3*(t-(e||0)))/1e3}function L(e,n,i,o){var r=encodeURIComponent(window.YaStaticRegion||"unknown");n.push("-cdn="+r);var s=n.filter(Boolean).join(","),a=o?{href:o}:null;t.send(a,e,s,null,null,null,i)}if(!t)throw new Error("Rum: interface is not included");if(!t.enabled)return t.getSetting=function(){return""},t.getVarsList=function(){return[]},void(t.getResourceTimings=t.pushConnectionTypeTo=t.pushTimingTo=t.normalize=t.sendCounter=t.sendDelta=t.sendTimeMark=t.sendResTiming=t.sendTTI=t.makeSubPage=t.sendFirstPaint=t.sendHeroElement=function(){});t.getVarsList=function(){var e=t._vars;return Object.keys(e).map(function(t){return t+"="+encodeURIComponent(e[t]).replace(/\*/g,"%2A")})},t.setVars=function(i){Object.keys(i).forEach(function(e){t._vars[e]=i[e]}),e(),n()};var R,O,B="690.1033",D="690.2096.207",F="690.2096.2877",V="690.2096.2044",j="690.2096.2748",Y="690.2096.2335.1822",H="690.2096.361",z="690.2096.4004",q=10,U=3e3,G=2e4,W={connectEnd:2116,connectStart:2114,decodedBodySize:2886,domComplete:2124,domContentLoadedEventEnd:2131,domContentLoadedEventStart:2123,domInteractive:2770,domLoading:2769,domainLookupEnd:2113,domainLookupStart:2112,duration:2136,encodedBodySize:2887,entryType:2888,fetchStart:2111,initiatorType:2889,loadEventEnd:2126,loadEventStart:2125,nextHopProtocol:2890,redirectCount:1385,redirectEnd:2110,redirectStart:2109,requestStart:2117,responseEnd:2120,responseStart:2119,secureConnectionStart:2115,startTime:2322,transferSize:2323,type:76,unloadEventEnd:2128,unloadEventStart:2127,workerStart:2137},Q={visible:1,hidden:2,prerender:3},X={bluetooth:2064,cellular:2065,ethernet:2066,none:1229,wifi:2067,wimax:2068,other:861,unknown:836,0:836,1:2066,2:2067,3:2070,4:2071,5:2768},$={"first-paint":2793,"first-contentful-paint":2794},J=Object.keys($).length,K=t.getTime,Z=window.PerformanceObserver,tt=window.performance||{},et=tt.timing||{},nt=tt.navigation||{},it=navigator.connection,ot={},rt={},st=t._deltaMarks,at=document.createElement("link"),ct=document.createElement("a"),dt="function"==typeof tt.getEntriesByType,ut=et.navigationStart,lt=et.responseStart,ht=lt-ut,ft=et.domainLookupStart-ut;if(e(),n(),t.ajaxStart=0,t.ajaxComplete=0,Z)try{new Z(function(t,e){var n=t.getEntriesByType("navigation")[0];if(n){e&&e.disconnect();var i=[];A(i,n),I(i),L("690.2096.2892",R.concat(i))}}).observe({entryTypes:["navigation"]})}catch(t){}"loading"===document.readyState?(addEventListener("DOMContentLoaded",i),addEventListener("load",i)):i(),t._getCommonVars=function(){return R};var mt={},_t=0;t.getTimeMarks=function(){return ot};var pt;t._periodicTasks=[];var vt,gt=0,yt=null,bt=!1,Et=Z?function(){try{new Z(function(t){for(var e=t.getEntries(),n=0;n<e.length;n++){var i=e[n];a("element-timing."+i.identifier,i.startTime)}}).observe({type:"element",buffered:!0})}catch(t){}}:function(){};t.sendTTI=C,t.sendFirstPaint=function(t){window.requestAnimationFrame?requestAnimationFrame(function(){a("2130",t)}):a("2130",t)},t.sendHeroElement=function(t){a("2876",t)},t._subpages={},t.makeSubPage=function(e,n){var i=t._subpages[e];t._subpages[e]=void 0===i?i=0:++i;var o=!1;return{689.2322:P(void 0!==n?n:Ya.Rum.getTime()),2924:e,2925:i,isCanceled:function(){return o},cancel:function(){o=!0}}},t._getLongtasksStringValue=N,t.getResourceTimings=T,t.pushConnectionTypeTo=I,t.pushTimingTo=A,t.normalize=P,t.sendCounter=L,t.sendDelta=u,t.sendTrafficData=g,t.finalizeLayoutShiftScore=E,t.finalizeLargestContentfulPaint=S}(Ya.Rum),window.Ya.Rum.send=window.wbt,Ya.Rum.enabled&&addEventListener("load",function t(){removeEventListener("load",t),Ya.Rum.sendTimeMark("1724");for(var e=document.querySelectorAll("script[data-rCid], div[data-rCid]"),n=0,i=e.length;n<i;n++){var o=e[n],r=o.src;if(!r){var s=getComputedStyle(o).backgroundImage;if(s){var a=s.match(/^url\(["']?(.*?)["']?\)$/);a&&(r=a[1])}}r&&Ya.Rum.sendResTiming(o.getAttribute("data-rCid"),r)}}),modules.define("pubsub",["i-bem"],function(t,e){function n(t){if(!(window.Ya||{}).pubsub)return void("getEventLastData"!==t&&i.push(Array.prototype.slice.call(arguments)));for(;i.length>0;)n.apply(null,i.shift());return"function"==typeof window.Ya.pubsub[t]?window.Ya.pubsub[t].apply(window.Ya.pubsub,Array.prototype.slice.call(arguments,1)):void 0}var i=[];t(e.declBlock(this.name,{},{trigger:n.bind(null,"trigger"),on:n.bind(null,"on"),off:n.bind(null,"off"),getEventLastData:n.bind(null,"getEventLastData")}))}),modules.define("state",["i-bem-dom"],function(t,e){t(e.declBlock("state",{onSetMod:{js:{inited:function(){this.turboPageState={}}}},setState:function(t,e){this.turboPageState[t]=e,this._emit("state-"+t+"-change"),window.Ya&&window.Ya.store&&window.Ya.store.dispatch({type:"BEM_STORE/SET",payload:{path:t,value:e,pageId:this.params.pageId}})},getState:function(t){return this.turboPageState[t]}}))}),modules.define("state__subscriber",["i-bem-dom"],function(t,e){t(e.declElem("state","subscriber",{onSetMod:{js:{inited:function(){this._block()._events().on("state-"+this.params.stateField+"-change",this._onStateChange.bind(this))}}},_onStateChange:function(){var t=this._block().getState(this.params.stateField);modules.require(this.params.block,function(n){var i=e.getEntity(this.domNodes[0],n);i&&"function"==typeof i.setValue&&i.setValue(t)}.bind(this))}}))}),modules.define("state__subscriber",["i-bem-dom"],function(t,e,n){t(n.declMod({modName:"type",modVal:"html-updater"},{setValue:function(t){e.update(this.domNodes[0],t)}}))}),modules.define("page__reload-button",["i-bem-dom"],function(t,e){t(e.declElem("page","reload-button",{onSetMod:{js:{inited:function(){this._domEvents().on("click",function(){window.location.reload()})}}}}))}),modules.define("advert__item",["i-bem-dom","lazy-block","functions","viewport-watcher","pubsub"],function(t,e,n,i,o,r){t(e.declElem("advert","item",{onSetMod:{js:{inited:function(){this._containerId=(.3+.7*Math.random()).toString(36).slice(2),this._onAdvertRender=this._onAdvertRender.bind(this),this._onAdvertRenderFrame=this._onAdvertRenderFrame.bind(this),this._onAdvertFail=this._onAdvertFail.bind(this),this._onAdvertHide=this._onAdvertHide.bind(this),this._script=this.params.advertScriptSrc,this._initHeight=0,this._product=null,this.domNodes[0].id=this._containerId,this.setMod("state","inited"),this._loadCounterSent=!1,this._renderCounterSent=!1,this._prerenderCounterSent=!1}},state:{started:function(){this._addAdvertStartTime=Ya.Rum.getTime(),setTimeout(function(){"started"===this.getMod("state")&&(this._failReason="timeout",this.setMod("state","failed"))}.bind(this),this.params.renderTimeout)},rendered:function(){if(this._renderCounterSent||(this._renderCounterSent=!0,this._sendPerformanceCounters("2046")),this._isVisible&&setTimeout(function(){this.setMod("state","displayed")}.bind(this),0),this._isVisible&&this.params.trackLayoutShifts&&this._initHeight){var t=this.domNodes[0].getBoundingClientRect().height;this._sendLayoutShiftCounter(this._initHeight,t,"922")}var e=this._block(),n=e&&e.domNodes&&e.domNodes[0];n&&r.trigger("advert__item:rendered",{domNode:n})}},error:function(t,e){this._block().findChildElem("load-error").setMod("visible",e),e&&this._setShowLoader(!1)}},_getDefaultParams:function(){return{renderTimeout:1e4}},_addAdvert:function(){},_cleanAsyncQueue:function(){},_onFinishLoading:function(){var t=this.findMixedBlock(n);t&&t.releaseQueue()},_startAdvertLoading:function(){if("inited"===this.getMod("state")){this._loadAdvertScript(),this._events(o).on("leave-view",function(){this._isVisible=!1,this.params.isDestroyExp&&Ya.Context&&Ya.Context.AdvManager&&Ya.Context.AdvManager.destroy&&(this.setMod("state","destroyed"),Ya.Context.AdvManager.destroy({renderTo:this._containerId}))});var t=this;window.Ya.oncePageVisible(function(){t.setMod("state","started"),t._addAdvert()})}},_onScriptLoading:function(){},_loadAdvertScript:function(){function t(t){n.__self._scriptsState[n._script]="failed"!==t?"loaded":t,n._scriptState=t,"loaded"!==t||n._loadCounterSent||(n._loadCounterSent=!0,n._sendPerformanceCounters("1724")),n._onFinishLoading(),n._onScriptLoading()}if("loaded"===this.__self._scriptsState[this._script])return void(this._scriptState="loaded");if("loading"===this.__self._scriptsState[this._script])return void setTimeout(this._loadAdvertScript.bind(this),50);var e=document.createElement("script"),n=this;e.setAttribute("crossorigin","anonymous"),e.src=this.params.advertScriptSrc,e.onload=t.bind(this,"loaded","1007"),e.onerror=function(){t("failed"),n._showErrorStub()},this.__self._scriptsState[this._script]="loading",this._scriptState="loading",document.getElementsByTagName("head")[0].appendChild(e)},_showErrorStub:function(){this._isStubDisplayed||this.params.manualStub?this.setMod("error"):(this._destroyBlock("3543"),this._cleanAsyncQueue())},_onAdvertFail:function(t){this._setFailedState(t?"error":"stub")},_setFailedState:function(t){this._onFinishLoading(),this._failReason=t,this.setMod("state","failed"),this._showErrorStub()},_setShowLoader:function(t){var e=this._block().findChildElem("loader");e&&(e.domNodes[0].style.display=t?"block":"none")},_onAdvertRender:function(t){t&&t.product&&(this._product=t.product),this._onFinishLoading(),this._prerenderCounterSent||(this._prerenderCounterSent=!0,this._sendPerformanceCounters("3105")),requestAnimationFrame(this._onAdvertRenderFrame)},_onAdvertRenderFrame:function(){if("inited"===this.getMod("state"))return this.domNodes[0].innerHTML="",void this._setShowLoader(!0);this.setMod("state","rendered"),this._setShowLoader(!1),this.params.manualStub&&this.domNodes[0].querySelector(this.__self.yaPartnerIframeParent)&&(this._setFailedState("manualStub"),this.setMod("hidden")),
this.domNodes[0].querySelector(this.__self.yaPartnerIframeParent)||this.domNodes[0].querySelector('*[style*="min-height"]')?this.setMod("auto-height"):this.delMod("auto-height")},_onAdvertHide:function(){this._destroyBlock("1656")},_onEnterView:function(){var t=this.getMod("state");this._isVisible=!0,this.params.trackLayoutShifts&&(this._initHeight=this.domNodes[0].getBoundingClientRect().height),"destroyed"===t&&this._addAdvert(),"rendered"===t&&this.setMod("state","displayed"),"inited"!==t||this._scriptState||this._startAdvertLoading(),"inited"!==t&&"started"!==t||this._isStubDisplayed||(this._isStubDisplayed=!0)},_sendPerformanceCounters:function(t){if(this.params.first){var e=Ya.Rum.getTime(),n=this._getDefaultParams(),i={2322:Ya.Rum.normalize(this._addAdvertStartTime),2877:Ya.Rum.normalize(e,this._addAdvertStartTime),76:0},o=this._getPageId();o&&(i[1366]=o),this._product&&(i[437]=this._product);const r=[n.rumCounterPrefix,t].join(".");Ya.Rum.sendTimeMark(r,e,!1,i)}},_sendLayoutShiftCounter:function(t,e,n){var i=this._getDefaultParams(),o=i.rumCounterPrefix||"836",r={1474.789:Math.floor(t),1474.791:Math.floor(e),1046:encodeURIComponent(n),804:encodeURIComponent(o)};this._product&&(r[437]=this._product),Ya.Rum.sendTimeMark("804.3974",void 0,!1,r)},_destroyBlock:function(t){var n=this._block(),i=n&&n.domNodes&&n.domNodes[0];if(i){r.trigger("advert__item:destruct",{domNode:i});if(!this.params.trackLayoutShifts)return e.destruct(i);if(!i.closest||!i.closest(".advert-bottom")){var s=i.getBoundingClientRect();e.destruct(i),o.isEntersTheViewport(s)&&this._sendLayoutShiftCounter(s.height,0,t)}}}},{lazyInit:!0,_scriptsState:{},yaPartnerIframeParent:".yap-rtb__iframe",onInit:function(){this._events(n).on("should-init",function(){this._startAdvertLoading()}),this._events(o).on("enter-view",function(){this._onEnterView()})}}))}),modules.decl("advert__item",["i-bem-dom"],function(t,e,n){t(n.declMod({modName:"type",modVal:"partner"},{_getDefaultParams:function(){var t=this.__base.apply(this,arguments)||{};return t.rumCounterPrefix="1219",t},_getPageId:function(){if(this.params.blockId){var t=this.params.blockId.match(/.*-(\d+)-.*/);if(null!==t)return t[1]}},_addAdvert:function(){var t=this._onAdvertFail.bind(this,void 0),e={blockId:this.params.blockId,renderTo:this._containerId,cspNonce:this.params.cspNonce,statId:this.params.statId,pageNumber:this.params.isPageNumUnique?Math.random():this._containerId,async:!0,extParams:this.params.extParams,onRender:this._onAdvertRender,onHide:this._onAdvertHide,onError:this._onAdvertFail,useSsr:this.params.useSsr};if(this.params.cacheId&&this.params.adSessionId&&(e.cacheId=this.params.cacheId,e.adSessionId=this.params.adSessionId),this.params.isHorizontal&&(e.horizontalAlign=1),"undefined"!=typeof Ya&&Ya.Context)return void(Ya.Context.AdvManager?Ya.Context.AdvManager.render(e,t):(Ya.Context._callbacks||(Ya.Context._callbacks=[])).push(function(){Ya.Context.AdvManager.render(e,t)}));(window.yandexContextAsyncCallbacks||(window.yandexContextAsyncCallbacks=[])).push(function(){Ya.Context.AdvManager.render(e,t)})}}))}),modules.decl("advert__item",["i-bem-dom"],function(t,e,n){t(n.declMod({modName:"type",modVal:"partner-video"},{_firstPlay:!1,_getDefaultParams:function(){var t=this.__base.apply(this,arguments)||{};return t.rumCounterPrefix="3999",t},_getPageId:function(){if(this.params.blockId){var t=this.params.blockId.match(/.*-(\d+)-.*/);if(null!==t)return t[1]}},_onScriptLoading:function(){var t=this,e=this._block().findChildElem("wrapper").domNodes[0],n=document.createElement("div");n.classList.add("advert__inner"),e.appendChild(n);var i={partnerId:this.params.partnerId,category:this.params.category,slide:!0,insertPosition:10,visibleAfterInit:!1};void 0!==window.ya&&void 0!==window.ya.videoAd&&ya.videoAd.loadModule("InPage").then(function(e){e.addInPageVideo(n,i,function(e){e instanceof Error?t._onAdvertFail():(this._firstPlay||(this._firstPlay=!0,t._onAdvertRender()),t.publicController=e,t.inView&&t._play(),e.onAdMediaEnd=function(){e.destroy(),t._onScriptLoading()})})})},_onEnterView:function(){this.inView||(this.inView=!0,this._play())},_play:function(){this.publicController&&this.publicController.play()}}))}),modules.decl("advert__item",["i-bem-dom"],function(t,e,n){t(n.declMod({modName:"type",modVal:"news"},{_getDefaultParams:function(){var t=this.__base.apply(this,arguments)||{};return t.rumCounterPrefix="3",t},_getPageId:function(){},_addAdvert:function(){(window.yaads||(window.yaads=[])).push({id:this.params.blockId,render:"#"+this._containerId}),this._adParams={containerId:this._containerId,onRender:this._onAdvertRender,onError:this._onAdvertFail,onStub:this._onAdvertFail}}}))}),modules.decl("advert__item",["i-bem-dom"],function(t,e,n){t(n.declMod({modName:"type",modVal:"native"},{_getDefaultParams:function(){var t=this.__base.apply(this,arguments)||{};return t.rumCounterPrefix="2214",t},_getPageId:function(){},_addAdvert:function(){(window.yaads||(window.yaads=[])).push({id:this.params.blockId,render:"#"+this._containerId,extParams:this.params.extParams}),this._adParams={containerId:this._containerId,onRender:this._onAdvertRender,onError:this._onAdvertFail,onStub:this._onAdvertFail}}}))}),modules.define("ganalytics",["i-bem-dom","page"],function(t,e,n){var i=[];Ya||(Ya={}),Ya.yanalytics||(Ya.yanalytics={add:function(t){i.push(t)}}),t(e.declBlock("ganalytics",{init:function(t,e){this.__self.inited||(this.__self.SOURCE=this.__self.SOURCE||this.params.yanalyticsUrl,this._domEvents().on("click",function(t){if(t.target.hasAttribute("data-analytics-goals")){JSON.parse(t.target.getAttribute("data-analytics-goals")).forEach(function(t){this.__self.sendGoal(t)}.bind(this))}}),this._initCounter(t,e),this.__self.inited=!0)},_initCounter:function(t,e){var o=this.params.counterId,r=this.params.dimension;this.__self._loadScript().then(function(){var s=[{alias:"ga",action:"init",params:{provider:"google-analytics-ecommerce",id:o,cookieDomain:"none"}}],a={alias:"ga",action:"config",params:{location:t,referrer:n.GLOBAL.expFlags["ga-referrer-originUrl"]?t:e,title:document.title}};r&&(a.params["dimension"+r]="turbo"),s.push(a,{alias:"ga",action:"track",params:{hitType:"pageview"}}),Ya.yanalytics.add(s),i.forEach(function(t){Ya.yanalytics.add(t)}),i=[],this.setMod("loaded",!0)}.bind(this))}},{lazyInit:!0,inited:!1,_loadScript:function(){return this._loadScriptPromise||(this._loadScriptPromise=new Promise(function(t,e){var n=document.createElement("script");n.async=!0,n.src=this.SOURCE,n.onload=t,n.onerror=e,document.body.appendChild(n)}.bind(this))),this._loadScriptPromise},sendGoal:function(t){Ya.yanalytics.add({alias:"ga",action:"track",params:{hitType:"event",eventCategory:t.category,eventAction:t.action}})}}))}),modules.define("ganalytics__goal",["i-bem-dom","page","ganalytics"],function(t,e,n,i){t(e.declElem("ganalytics","goal",{_sendGoal:function(){this.params.goals.forEach(function(t){i.sendGoal(t)})},setTarget:function(t,e){this._domEvents().un("click"),this._events(t).on(e,function(){this._sendGoal()})}},{lazyInit:!0,onInit:function(){this._domEvents().on("click",this.prototype._sendGoal)}}))}),modules.define("tracking",["i-bem-dom","page"],function(t,e,n){t(e.declBlock("tracking",{init:function(t,e){if(this.params.counters.length){var i=encodeURIComponent(e);this._placeholderRegExp=/{([^}]*)}/g,this._vars={},this._vars.counterParams=function(t){return t.params?";"+t.params:""},this._vars.counterId=function(t){return t.id},this._vars.referrer=function(e){return"google"===e.type&&n.GLOBAL.expFlags["ga-referrer-originUrl"]?encodeURIComponent(t||""):i},this._vars.referrerStarsEscaped=i.replace(/\*/g,"%2a"),this._vars.pageTitle=encodeURIComponent(this.params.title),this._vars.originalURL=encodeURIComponent(t||""),this._vars.screenWidth=window.screen.width,this._vars.screenHeight=window.screen.height,this._vars.random=function(){return Math.floor(1e8*Math.random())},this._vars.requestId=this.__self.requestId||(this.__self.requestId=Date.now()/1e3+"-"+Math.floor(1e8*Math.random())),this._vars.clientId=this.__self.clientId||(this.__self.clientId=function(){var t;try{t=window.localStorage&&localStorage.getItem("turbo-cid")}catch(t){}if(!t){t=[Math.round((new Date).getTime()/1e3),Math.floor(1e8*Math.random())].join(".");try{window.localStorage&&localStorage.setItem("turbo-cid",t)}catch(t){}}return t}()),this._vars.location=encodeURIComponent(window.location.href),this.params.counters.forEach(function(n){this._sendCounter(n,t,e)},this)}},_getDefaultParams:function(){return{counters:[]}},_predefinedCounterTypes:{liveinternet:"https://counter.yadro.ru/hit{counterParams}?u{originalURL};h{pageTitle};r{referrer};s{screenWidth}*{screenHeight}*32;{random}",mailru:"https://top-fwz1.mail.ru/counter?js=13;id={counterId};u={originalURL};title={pageTitle};r={referrer};s={screenWidth}*{screenHeight}",google:"https://www.google-analytics.com/collect?v=1&t=pageview&tid={counterId}&cid={clientId}&dl={originalURL}&dt={pageTitle}&dr={referrer}",rambler:"https://kraken.rambler.ru/cnt/?pid={counterId}&rid={requestId}&et=pv&rf={referrer}&pt={pageTitle}&rn={random}&v=1.8.0&ct=mp",mediascope:"https://www.tns-counter.ru/V13a***R>{referrerStarsEscaped}*yandex_turbo/ru/UTF-8/tmsec={counterId}/{random}",metrika:"https://mc.yandex.ru/watch/{counterId}",metrikawithurl:"https://mc.yandex.ru/watch/{counterId}?page-url={location}"},_prepareCounter:function(t,e){var n=this._vars;return t.replace(this._placeholderRegExp,function(t,i){if(!n.hasOwnProperty(i))return"{"+i+"}";var o=n[i];return"function"==typeof o?o(e):o})},_sendCounter:function(t){var e=(t.type||"").toLowerCase(),n="custom"===e?t.url:this._predefinedCounterTypes[e];n&&((new Image).src=this._prepareCounter(n,t,e))}},{lazyInit:!0}))}),modules.define("metrika",["i-bem-dom"],function(t,e){t(e.declBlock("metrika",{init:function(t,e,n,i){this._counters=[],this._loadScript().then(function(){this.params.counters.forEach(function(n){n.url=t,n.referrer=e,this._addCounter(n)},this),this._bindGoals(),!1!==n&&!i&&this.invokeHitCounters(),this.setMod("loaded")}.bind(this)),this._hitCounter=this._hitCounter.bind(this),n&&document.addEventListener("click",this._hitCounter),this.setMod("inited",!0)},destruct:function(){document.addEventListener("click",this._hitCounter),this.__base.apply(this,arguments)},invokeHitCounters:function(){var t=this;this._loadScript().then(function(){t._counters.forEach(function(t){t.instance.hit(t.url,t.options)})})},_getDefaultParams:function(){return{counters:[]}},_addCounter:function(t){var e=this._createCounter(t.id,t.referrer,t.url,t.params,t.webvisor);e&&this._counters.push(e)},_createCounter:function(t,e,n,i,o){var r={},s={id:t,url:n,referrer:e,forceWebvisor:o};i||(i={});var a={};this.params.paramsInYM?a.__ym=i:(a=i,a.__ym||(a.__ym={})),a.__ym.turbo_page=1,a.__ym.turbo_page_id=i.pageId,this._assignHitOptions(a.__ym),s.defer=!0,s.accurateTrackBounce=!0,s.trackLinks=!0,t===this.__self.YA_ECOMMERCE_METRIKA?s.ecommerce="yaDataLayer":s.ecommerce="dataLayer",(!window.Ya.isInFrame()&&this.params.adv||o)&&(s.clickmap=!0,s.webvisor=!0),r.referer=e,r.title=this.params.title,s.params=a,r.params=a;var c=window["yaCounter"+t]=this._createInstance(s),d=this.params.experiments;setTimeout(function(){c.experiments(d)},300),window.Ya.MetrikaCounters||(window.Ya.MetrikaCounters={}),window.Ya.MetrikaCounters[t]=c;try{return{instance:c,id:t,url:n,options:r}}catch(t){}},_createInstance:function(t){return new Ya.Metrika(t)},_bindGoals:function(){this._counters.forEach(function(t){this._events().on("reach-goal",function(e,n){var i=[].concat(n.goals[""]||[],n.goals[t.id]||[]);i.length&&i.forEach(function(e){t.instance.reachGoal(e,t.options.params)})})},this)},_assignHitOptions:function(t){this.params.hitOptions&&Object.keys(this.params.hitOptions).forEach(function(e){t[e]=this.params.hitOptions[e]},this)},_getScriptUrl:function(){return"https://mc.yandex.ru/metrika/watch.js"},_loadScript:function(){return this.__self._loadScriptPromise||(this.__self._loadScriptPromise=new Promise(function(t,e){var n=document.createElement("script");n.async=!0,n.src=this._getScriptUrl(),this.hasMod("v3")&&n.setAttribute("crossorigin","anonymous"),n.onload=t,n.onerror=e,document.body.appendChild(n)}.bind(this))),this.__self._loadScriptPromise},_hitCounter:function(t){for(var e,n=t.target;n&&n.getAttribute;){if(e=this._parseDataMetrikaGoal(n)){this._emit("reach-goal",{goals:e});break}n=n.parentNode}},_parseDataMetrikaGoal:function(t){var e=t.getAttribute("data-metrika-goals");return e?JSON.parse(e):null}},{lazyInit:!0,YA_ECOMMERCE_METRIKA:"53911873"}))}),modules.define("metrika__goal",["i-bem-dom"],function(t,e){t(e.declElem("metrika","goal",{onSetMod:{js:{inited:function(){this._goals=this._getGoalsHash(),this._domEvents().on("click",function(){var t=this._block();t&&t._emit("reach-goal",{goals:this._goals})})}}},setTarget:function(t,e){this._domEvents().un("click"),this._events(t).on(e,function(){var t=this._block();t&&t._emit("reach-goal",{goals:this._goals})})},reachGoals:function(t){this._block()._emit("reach-goal",{goals:t})},_getGoalsHash:function(){var t={},e=function(e,n){n||(n=""),t[n]||(t[n]=[]),t[n].push(e)};if((this.params.goals||[]).forEach(function(t){e(t.name,t.id)}),"string"==typeof this.params.goal)e(this.params.goal);else if("object"==typeof this.params.goal)for(var n in this.params.goal)e(this.params.goal[n],n);return t}}))}),modules.define("metrika",["i-bem-dom"],function(t,e,n){t(n.declMod({modName:"v2",modVal:!0},{_createInstance:function(t){return t.forceWebvisor||(t.clickmap=!1,t.webvisor=!1),new Ya.Metrika2(t)},_getScriptUrl:function(){return"https://mc.yandex.ru/metrika/tag.js"}}))}),modules.define("metrika",["i-bem-dom"],function(t,e,n){t(n.declMod({modName:"v3",modVal:!0},{_createInstance:function(t){return t.clickmap=!1,t.webvisor=!1,new Ya.Metrika2(t)},_getScriptUrl:function(){return"https://mc.yandex.ru/metrika/tag_turbo.js"}}))}),modules.define("cross-events",["i-bem-dom"],function(t,e){t(e.declBlock("cross-events",{onSetMod:{js:{inited:function(){modules.require(this.params.name,function(t){Object.keys(this.params.on).forEach(function(e){this._events(t).on(e,this.params.on[e],this._onDispatchEvent)},this)}.bind(this))}}},_onDispatchEvent:function(t,e){var n=this;(Array.isArray(t.data)?t.data:[t.data]).reduce(function(t,i){return t.then(function(){return n._getComponentById(i.id)}).then(function(t){return new Promise(function(e){setTimeout(function(){e(t)},30)})}).then(function(t){if("function"!=typeof t[i.method])throw new Error("There no such method:"+i.method+" on "+t.__self.getEntityName()+" component with id "+i.id);try{t[i.method](e)}catch(e){throw console.error(e),new Error("Failed to execute method "+i.method+" on "+t.__self.getEntityName()+" component with id "+i.id)}})},Promise.resolve())},_getComponentById:function(t){return new Promise(function(n,i){var o=document.getElementById(t);if(!o)return i();var r=o.getAttribute("data-name");if(!r)return i();modules.require(r,function(t){var r=e.getEntity(o,t);r?n(r):i()})})}},{lazyInit:!1}))}),modules.define("store",["i-bem-dom"],function(t,e){t(e.declBlock("store",{onSetMod:{js:{inited:function(){var t=this.params.eventToProps;modules.require(this.params.block,function(e){Object.keys(t).forEach(function(n){this._events(e).on(n,t[n],this._onDispatchEvent)},this)}.bind(this))}}},_onDispatchEvent:function(t){window.Ya.getStore().dispatch({type:"DYNAMIC",payload:t.data,meta:{namespace:this.params.namespace}})}},{lazyInit:!1}))}),modules.define("button",["i-bem-dom","control-base","events","page__result"],function(t,e,n,i,o){t(e.declBlock("button",n,{onSetMod:{loading:function(t,e){this._nextTick(function(){this.setMod("disabled",e)})},disabled:function(t,e){e&&this.delMod("pressed"),this.__base.apply(this,arguments)},js:{inited:function(){if(this.params.targetInSeparateTab&&window.Ya&&window.Ya.isInFrame&&!window.Ya.isInFrame()){var t=this.domNodes[0];t&&t.setAttribute("target",this.params.targetInSeparateTab)}this.__base.apply(this,arguments)}}},_getDefaultParams:function(){return{busyLoadingTimeout:300}},_initEvents:function(){this._domEvents().on("click",this._onClick.bind(this)).on("mousedown touchstart mouseup touchend mouseout touchmove",this._onTouch)},getAction:function(){return this.params.action},_getControl:function(){return this.domNodes[0]},_onClick:function(t){if(!this.hasMod("disabled")){var e=new i.Event("click"),n={};if(this.hasMod("open-check-out-form")){var r=this.findParentElem(o);r&&(n["ecomm-product-info"]=r.params["ecomm-product-info"])}this._emit(e,n),e.isDefaultPrevented()&&t.preventDefault()}},_onTouch:function(t){this.hasMod("disabled")||this.setMod("pressed","mousedown"===t.type||"touchstart"===t.type)}},{lazyInit:!0,onInit:function(){this._domEvents().on("mousedown touchstart",function(t){this._onTouch(t)})}}))}),modules.decl("button",["i-bem-dom"],function(t,e,n){t(n.declMod({modName:"state-update",modVal:!0},{_initEvents:function(){this.__base.apply(this,arguments),this._events().on("click",this._onStateButtonClick.bind(this))},_onStateButtonClick:function(){this.pageState.setState(this.params.state.fieldName,this.params.state.value)}}))}),modules.define("control",["i-bem-dom","control-base","control-validation-mixin","smooth-scroll"],function(t,e,n,i,o){t(e.declBlock("control",[n,i],{onSetMod:{js:{inited:function(){this._events().once("change",function(){this.setMod("watching",!0).setMod("error",!this.isValid())}),this.__base.apply(this,arguments)}},watching:function(){this._events().on("change",function(){this.delMod("error").setMod("error",!this.isValid())})}},compareOffsetPosition:function(t){var e=this.domNodes[0].offsetTop-t.domNodes[0].offsetTop;return(e>0)-(e<0)||e},scrollToMe:function(){o.scrollTo(this.domNodes[0],{duration:600,infelicity:32})},getName:function(){return this._getControl().getAttribute("name")},getValue:function(){return this._value},setValue:function(t){this._willChange(t)&&(this._value=t,this._emit("change"))},_willChange:function(t){return this._value!==t},_setState:function(){var t=this._getControl().value;this.setValue(t),this.params.state&&this.pageState.setState(this.params.state,t)}}))}),modules.define("i-bem-dom__events_type_dom",["i-bem-dom__events","inherit"],function(t,e,n){var i=function(t){return t};t({EventManagerFactory:n(e.EventManagerFactory,{_createEventManager:function(t,e,n){function o(i,o){return function(a){var c=s(a,t,e,n);c.instance&&(a.data=o,e.bindEntityCls&&(a.bemTarget=r(c.targetDomNode||this,e.bindEntityCls)),i.apply(c.instance,arguments))}}var r=this._getEntity,s=this._getEventActors.bind(this);return new this._eventManagerCls(e,o,i)}})})}),modules.decl("page",["i-bem-dom","functions__throttle"],function(t,e,n){t(e.declBlock("page",{onSetMod:{js:{inited:function(){this._urlText=window.Ya.getOrigUrlFromHref(window.location.href),this.__base.apply(this,arguments),this._results={},this._content=this.getContentElem(),this._isInIframe=window.Ya.isInFrame(),!window.Ya.isCustomBlocksDev&&this._setUserFriendlyUrl(),this._isInIframe?(this._addInFrameClass(document.documentElement),this.params.scrollFixEnabled&&(document.body.scrollTop=1,this._domEvents().on("scroll",this._setPosition)),this._domEvents(this._elem("container")).on("scroll",function(){this._emit("scroll-in-frame")})):this._removeInFrameClass(document.documentElement),this.__self.GLOBAL=this.params.global,this._onTouchMoveSmooth=n(this._onTouchMove,500,this),this._domEvents().on("touchmove",this._onTouchMoveSmooth);var t=this._isInIframe?this._elem("container"):window;this._onScrollSmooth=n(this._onScroll,500,this),this._domEvents(t).on("scroll",this._onScrollSmooth),window.addEventListener("popstate",this._onLocationChange.bind(this)),this._currActiveDocumentId="",this._prevActiveDocumentId="",this.params.overrideDomain&&(window.Ya.isInSliderFrame()?window.addEventListener("message",this._onOverlaySlideChange.bind(this)):this._overrideOmniboxHost()),this._isInIframe&&window.top.postMessage({type:"page-inited",inSlider:Boolean(this.params.global.userFriendlyUrl)&&-1!==this.params.global.userFriendlyUrl.indexOf("check_swipe=1")},"*"),this._totalScripts=0,this._scriptsLoaded=0,this._maxScrollTop=0,this.params.baobabDebugTree&&this.__self._printBaobabTree(this.params.baobabDebugTree)}}},_onOverlaySlideChange:function(t){var e;try{e=JSON.parse(t.data)}catch(t){return}"overlay-slider-active"===e.action&&this._overrideOmniboxHost()},_overrideOmniboxHost:function(){if(this.params.overrideDomain)try{if(top.yandex&&top.yandex.publicFeature&&top.yandex.publicFeature.overrideTabHost&&!top.yandex.publicFeature.addOverrideHostEntries&&-1===location.search.indexOf("serp-preview=1")&&this._urlText){var t=this._getSourceHostFromUrlText(this._urlText);top.yandex.publicFeature.overrideTabHost(t)}}catch(t){}},_getSourceHostFromUrlText:function(t){return t.split("/")[2]},_onLocationChange:function(t){if(!(!t.state||t.state.isTurboOverlay||t.state.turboOverlayUrls&&Ya.turboOverlay)){var e=window.Ya.getOrigUrlFromHref(window.location.href);e!==this._urlText&&(this._urlText=e,location.reload())}},_insertStyles:function(t){this._getThemeCSSNode().insertAdjacentHTML("beforebegin",t)},_getThemeCSSNode:function(){return this._customCSSNode||(this._customCSSNode=document.querySelector("style[data-name=theme]")),this._customCSSNode},pushAssets:function(t){if(t.svg&&this.findChildElem("svg-sprite").domNodes[0].insertAdjacentHTML("beforeend",t.svg),t.extras&&this.findChildElem("extras").domNodes[0].insertAdjacentHTML("beforeend",t.extras),t.styles){(Array.isArray(t.styles)?t.styles:[t.styles]).forEach(this._insertStyles,this)}var e=this,n=document.createDocumentFragment(),i=function(){e._scriptsLoaded+=1,e._onScriptsLoaded&&e._onScriptsLoaded()};(t.scripts||[]).forEach(function(t){var o=document.createElement("script");t.url?(e._totalScripts+=1,o.src=t.url,o.onload=i,o.onerror=i):t.content?o.innerHTML=t.content:o.innerHTML=t,o.setAttribute("nonce",e.__self.GLOBAL.nonce),n.appendChild(o)}),document.querySelector("body").appendChild(n),t.baobabDebugTree&&this.__self._printBaobabTree(t.baobabDebugTree)},initBlocks:function(t){if(this._totalScripts!==this._scriptsLoaded)return void(this._onScriptsLoaded=this.initBlocks.bind(this,t));modules.require("i-bem-dom__init",function(e){e(),t&&t()});var e=this._createNewEvent("page-load");document.dispatchEvent(e),this._onScriptsLoaded=null},_createNewEvent:function(t){var e;return"function"==typeof Event?e=new Event(t):(e=document.createEvent("Event"),e.initEvent(t,!0,!0)),e},getReferrer:function(){if(this.params.utmReferrer)return this.params.utmReferrer;var t=(document.referrer||location.href).split("/"),e=t[0],n=t[2];if(-1!==n.indexOf(".si.yandex.ru")&&(n="yandex.ru"),0===n.indexOf("yandex.")&&this.__self.GLOBAL.isSearchApp){n="yandex."+n.replace("yandex.","")+"/searchapp?text="}return e+"//"+n},getOriginalUrl:function(){return this.params.originalUrl},getTitle:function(){var t=this._results[this._currActiveDocumentId];return(t?t.params:{}).title||this.params.title||document.title},_addInFrameClass:function(t){t.classList.add(this.__self.IN_FRAME_CLASS_NAME,"ua_os_"+(this.params.global.ua.OSFamily||"unknow").toLowerCase())},_removeInFrameClass:function(t){var e=t.getAttribute("class")||"";t.setAttribute("class",e.replace(this.__self.IN_FRAME_CLASS_NAME,""))},_setUserFriendlyUrl:function(){var t=window.location,e=t.pathname+t.search+t.hash,n=this.params.global.userFriendlyUrl,i=this.params.global.newOverlayQuery,o=this.params.global.depthQuery;if(window.Ya.isInFrame()&&n){var r=new URL(n,location.origin);i&&r.searchParams.set("new_overlay",i),o&&r.searchParams.set("depth",o),n=r.toString()}if(n+=t.hash,/([a-z]*.?){1}yandex\.[ru|com|by|com\.tr|fr|id|kk|uz]/.test(location.hostname)&&window.history&&window.history.replaceState&&this.params.global.userFriendlyUrl&&e!==n){try{window.history.replaceState(window.history.state||{},"",n)}catch(t){}if(this.params.global.isSearchApp){var s=document.title;document.title="",document.title=s}}},_onScroll:function(){var t=Math.abs(this.getScrollPosition());this.params.global.isInfinityFeed||this._sendPageScrollCounter(t),this._emit("scroll",{scrollPosition:t})},_sendPageScrollCounter:function(t){if(!(this._maxScrollTop>t)){var e=this.getHeight();this._maxScrollTop=t,window.w&&window.w({link:this,event:"tech",type:"page-scroll",data:{"y-pixel":t,"y-percent":Math.round(t/e*100)}})}},_onTouchMove:function(){this._ttiSended||(Ya.Rum.sendTTI("143.768"),this._ttiSended=!0)},_setPosition:function(){var t=this.getScrollPosition();t>=-2&&t<=0&&(document.body.scrollTop=1)},getScrollPosition:function(){return this._content?this._content.domNodes[0].getBoundingClientRect().top:0},getHeight:function(){return this._content?this._content.domNodes[0].getBoundingClientRect().height:0},getCurrentPageResult:function(){return this._results[this._currActiveDocumentId]},pushActiveDocumentId:function(t,e){this._prevActiveDocumentId=this._currActiveDocumentId,this._currActiveDocumentId=t,this._startHeartBeats(0),this.hasMod("url-replacement")&&this._replaceCurrentUrl(),!window.Ya.isInSliderFrame()&&this.params.overrideDomain&&setTimeout(function(){this._overrideOmniboxHost()}.bind(this),0),"enter-view"===e.event&&this._dispatchActionShowProductCard(),this._elems("extras-fixed").forEach(function(e){e.params.id&&e.delMod("active"),e.params.id===t&&e.setMod("active")})},popActiveDocumentId:function(t,e){e.eventData&&e.eventData.blur||this._currActiveDocumentId===t&&this.pushActiveDocumentId(this._prevActiveDocumentId,e)},HEART_BEAT_TIME_BASIS:1.6,_heartBeatTimeoutId:null,_startHeartBeats:function(t){var e=this,n=Math.pow(this.HEART_BEAT_TIME_BASIS,t);this._stopHeartBeats(),this._heartBeatTimeoutId=setTimeout(function(){e._sendHeartBeat({iteration:t,time:Math.round(100*n)/100}),e._startHeartBeats(t+1)},1e3*n)},_stopHeartBeats:function(){clearTimeout(this._heartBeatTimeoutId)},_sendHeartBeat:function(t){var e=this._results[this._currActiveDocumentId];e&&window.w&&window.w({event:"tech",type:"heart-beat",link:e,data:t})},_dispatchActionShowProductCard:function(){var t=this._results[this._currActiveDocumentId];if(t&&window.Ya.ecommDispatchShowProductCard){var e=t.params["ecomm-product-info"];e&&window.Ya.ecommDispatchShowProductCard(e.id)}},storeResult:function(t){this._results[t.params.id]=t},_replaceCurrentUrl:function(){var t=this._results[this._currActiveDocumentId],e=t?t.params:null;e&&e.cleanUrl&&(window.Ya.activeDocumentChanged({action:"active-document-changed",url:e.url,orig:e.originalUrl,cleanUrl:e.cleanUrl,title:this.getTitle(),fixSwipe:this.params.global.fixSwipe}),this._urlText=window.Ya.getOrigUrlFromHref(e.cleanUrl))}},{IN_FRAME_CLASS_NAME:"ua_frame_yes",addBundles:function(t){var e=this;Object.keys(t).forEach(function(n){e.GLOBAL.bundles[n]=e.GLOBAL.bundles[n]||t[n]})},getBundles:function(){return this.GLOBAL.bundles},addSvgIcons:function(t){this.GLOBAL.svgIcons=this.GLOBAL.svgIcons.concat(t)},getSvgIcons:function(){return this.GLOBAL.svgIcons},getInstance:function(){if(!this._instance){var t=document.querySelector(this._buildSelector());this._instance=this.getFromDom(t)}return this._instance},_printBaobabTree:function(t){console.group&&console.group("Baobab tree"),console.log(t),console.groupEnd&&console.groupEnd("Baobab tree")}}))}),modules.define("page",["i-bem-dom"],function(t,e){t(e.declBlock("page",{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this.setMod("ios-smooth-scrolling",!0)}}},getContentElem:function(){return this.findChildElem("content")},pushActiveDocumentId:function(t,e){this._elem("container").hasMod("lock-scroll")||this.__base.call(this,t,e)},popActiveDocumentId:function(t,e){this._elem("container").hasMod("lock-scroll")||this.__base.call(this,t,e)}},{lockScroll:function(){var t=this.getInstance()._elem("container");t.setMod("lock-scroll"),this._containerScrollTop=t.domNodes[0].scrollTop,t.domNodes[0].scrollTop=0},unlockScroll:function(){var t=this.getInstance()._elem("container");t.delMod("lock-scroll"),t.domNodes[0].scrollTop=this._containerScrollTop||0}}))}),modules.define("page",["i-bem-dom","functions__throttle"],function(t,e){t(e.declBlock("page",{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),window.Ya.isInFrame()&&(this.hasMod("with-post-swipe")||this.hasMod("fix-safari-history-swipe"))&&this._checkSwipeAndSend()}}},_checkSwipeAndSend:function(){this._domEvents().on("touchstart",this._onSwipeTouchStart),this._domEvents(this.findChildElem("container")).on("touchmove",this._onSwipeTouchMove),this._domEvents(this.findChildElem("container")).on("scroll",this._onContainerScroll),this._domEvents().on("touchend touchcancel",this._onSwipeTouchEnd)},_onSwipeTouchStart:function(t){if(!this._isStartSwipe){var e=t.changedTouches[0],n=window.matchMedia("(orientation: landscape)").matches;this._historyNavigateSwipe=!1,this.hasMod("fix-safari-history-swipe")&&(e.screenX<35||e.screenX>(n?screen.height:screen.width)-20)&&(this._historyNavigateSwipe=!0),this._startX=e.screenX,this._startY=e.screenY,this._isStartSwipe=!0}},_onContainerScroll:function(){var t=this.findChildElem("container").domNodes[0].scrollTop;this._prevScroll&&this._prevScroll-t!=0&&this._sendSwipePostMessage("vertical",{value:this._prevScroll-t,current:t}),this._prevScroll=t},_onSwipeTouchMove:function(t){if(this._isStartSwipe&&!this._blockSwipeTracking){this._currentY=t.touches?t.touches[0].screenY:t.screenY;var e=Math.abs(this._currentY-this._startY),n=(t.screenX||t.touches[0].screenX)-this._startX,i=Math.abs(n);this._blockPageVerticalScroll||i>e?(t.preventDefault(),this._currentX=t.screenX||t.touches[0].screenX,this._blockPageVerticalScroll||(this._swipeStartTime=Date.now()),this._blockPageVerticalScroll=!0):i<=e&&e>20&&(this._blockSwipeTracking=!0),this._blockPageVerticalScroll&&this._isStartSwipe&&this._sendSwipePostMessage("horizontal",{value:n})}},_onSwipeTouchEnd:function(t){if(this._isStartSwipe){var e=t.changedTouches[0],n=e.screenX-this._startX;this._blockPageVerticalScroll?this._sendSwipePostMessage("end",{value:n,smooth:Date.now()-this._swipeStartTime>500,side:n<0?"right":"left",historyNavigateSwipeEnd:this._historyNavigateSwipe&&e.pageX<=0}):this._sendSwipePostMessage("end",{historyNavigateSwipeEnd:this._historyNavigateSwipe&&e.pageX<=0}),this._isStartSwipe=!1,this._blockPageVerticalScroll=!1,this._blockSwipeTracking=!1}},_sendSwipePostMessage:function(t,e){var n={};if("object"==typeof e)for(var i in e)e.hasOwnProperty(i)&&(n[i]=e[i]);n.action="swipe",n.state=t,n.historyNavigateSwipe=this._historyNavigateSwipe,n.historyNavigateSwipeEnd=e.historyNavigateSwipeEnd,n.inSlider=this.hasMod("with-post-swipe"),window.top.postMessage(n,"*")}}))}),modules.define("page",function(t,e){t(e.declMod({modName:"with-post-height",modVal:!0},{prevHeight:0,onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),setInterval(this._onChangeHeight.bind(this),300),this._onChangeHeight()}}},_onChangeHeight:function(){var t=this._elem("content").domNodes[0].scrollHeight;t!==this.prevHeight&&(this.prevHeight=t,this._postHeight(t))},_postHeight:function(t){var e=JSON.stringify({"iframe-height":t});window.parent.postMessage(e,"*")}}))}),modules.decl("advert__item",["i-bem-dom"],function(t,e,n){t(n.declMod({modName:"type",modVal:"adfox"},{_getDefaultParams:function(){var t=this.__base.apply(this,arguments)||{};return t.rumCounterPrefix="2930",t},_getPageId:function(){return this.params.ownerId},_addAdvert:function(){this._adParams={ownerId:this.params.ownerId,containerId:this._containerId,params:this.params.params,onRender:this._onAdvertRender,onError:this._onAdvertFail,onStub:this._onAdvertFail},(window.adfoxAsyncParams||(window.adfoxAsyncParams=[])).push(this._adParams)},_cleanAsyncQueue:function(){if(window.adfoxAsyncParams&&Array.isArray(window.adfoxAsyncParams)){var t=window.adfoxAsyncParams.indexOf(this._adParams);-1!==t&&window.adfoxAsyncParams.splice(t,1)}}}))}),window.YA_TURBO_PAGES=!0;})